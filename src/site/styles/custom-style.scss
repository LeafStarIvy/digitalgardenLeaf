/* ==========================================================================
   COSMIC DIGITAL GARDEN â€” REMASTER 2025
   - Same concepts preserved (variables, gradients, starfield, fullscreen,
     theatre), but proportions, accessibility, and visual hierarchy improved.
   - Palette: deep teal / slate + warm amber accent for legibility & contrast.
   ========================================================================== */

/* ==========================================================================
   0. ROOT VARIABLES (global scope for Obsidian compatibility)
   ========================================================================== */
:root{
  /* --------------------
     Core palette (teal + amber)
     --------------------*/
  --cosmic-void: #04121A;        /* near-black deep ocean */
  --cosmic-abyss: #05232B;
  --space-deep:   #083B44;
  --space-mid:    #0B5F5B;
  --space-surf:   #14968E;
  --space-light:  #2AC7B7;

  --stellar-900: #0B1020;
  --stellar-800: #17202A;
  --stellar-700: #24343D;
  --stellar-500: #4A6366;
  --stellar-300: #91A9A6;
  --stellar-100: #D8EAEA;

  /* Accent */
  --accent-amber: #FFB86B;      /* warm accent */
  --accent-amber-2:#FF9B3C;
  --accent-cool: #7CE3D0;

  /* Status */
  --alert-danger: #FF6B6B;
  --alert-warning:#FFD166;
  --alert-success:#6BCF7F;
  --alert-info:   var(--accent-cool);

  /* --------------------
     Background / surfaces
     --------------------*/
  --bg-primary:  linear-gradient(180deg,var(--cosmic-void) 0%, var(--space-deep) 100%);
  --bg-overlay:  rgba(5,35,40,0.6);
  --bg-glass:    rgba(12,30,33,0.36);
  --bg-glass-strong: rgba(12,30,33,0.55);

  /* --------------------
     Text system
     --------------------*/
  --text-primary: #E6F9F5;
  --text-secondary: #B6DCD6;
  --text-muted: #93B7B3;
  --text-dim: #6F8B89;
  --text-heading: #CFF6EE;
  --link: var(--space-surf);
  --link-hover: var(--accent-amber);

  /* --------------------
     Borders & shadows
     --------------------*/
  --border-subtle: rgba(255,255,255,0.04);
  --border-ghost: rgba(124,198,190,0.12);
  --shadow-sm: 0 4px 12px rgba(2,8,10,0.35);
  --shadow-md: 0 10px 30px rgba(2,8,10,0.45);
  --glow: 0 0 18px rgba(124,198,190,0.11);

  /* --------------------
     Typography
     --------------------*/
  --font-base: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-heading: "Space Grotesk", Inter, system-ui, sans-serif;
  --font-mono: "JetBrains Mono", "Fira Code", monospace;

  --fs-xs: 0.78rem;
  --fs-sm: 0.9rem;
  --fs-base: 1rem;
  --fs-md: 1.125rem;
  --fs-lg: 1.25rem;
  --fs-xl: 1.5rem;
  --fs-2xl: 1.875rem;
  --fs-3xl: 2.4rem;

  --lh-tight: 1.28;
  --lh-base: 1.6;
  --lh-loose: 1.9;

  /* --------------------
     Layout + spacing
     --------------------*/
  --content-max: 900px;       /* balanced reading line length */
  --content-wide: 1200px;
  --sidebar-w: 260px;        /* slightly narrower for better proportions */
  --navbar-h: 56px;

  --space-xxs: 0.25rem;
  --space-xs: 0.5rem;
  --space-sm: 0.75rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2.25rem;
  --space-2xl: 3.5rem;

  --radius-sm: 8px;
  --radius-md: 14px;
  --radius-lg: 18px;

  --trans-fast: 160ms;
  --trans: 280ms;
  --trans-slow: 420ms;

  /* gradients */
  --grad-aurora: linear-gradient(90deg,var(--space-surf), var(--accent-cool));
  --grad-deep: linear-gradient(180deg,var(--cosmic-void), var(--space-deep));
  --grad-glass: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
}

/* ==========================================================================
   1. RESET & base
   ========================================================================== */
*{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:var(--font-base);
  font-size:var(--fs-base);
  line-height:var(--lh-base);
  color:var(--text-primary);
  background:var(--bg-primary);
  min-height:100vh;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow-x:hidden;
  position:relative;
}

/* Subtle fixed nebula + stars layers (kept but lighter & optimized) */
body::before,
body::after{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:-2;
}
body::before{
  background: radial-gradient(1000px 600px at 10% 20%, rgba(20,120,110,0.08), transparent 10%),
              radial-gradient(800px 500px at 80% 80%, rgba(15,90,96,0.06), transparent 12%);
  opacity:0.9;
  mix-blend-mode:screen;
}
body::after{
  background-image:
    radial-gradient(1.5px 1.5px at 12% 21%, rgba(124,198,190,0.9), transparent),
    radial-gradient(1.2px 1.2px at 44% 72%, rgba(255,184,107,0.85), transparent),
    radial-gradient(1px 1px at 80% 40%, rgba(190,238,230,0.7), transparent);
  background-size:900px 900px;
  opacity:0.55;
  animation: dg-stars 80s linear infinite;
}
@keyframes dg-stars{
  from{transform:translate(0,0)}
  to{transform:translate(-600px,-400px)}
}

/* respect reduced motion */
@media (prefers-reduced-motion: reduce){
  body::after{animation:none}
  *{transition:none!important}
}

/* selection */
::selection{background:rgba(28,90,83,0.6);color:var(--text-primary)}

/* focus outline for keyboard users */
:focus{outline:3px solid rgba(255,184,107,0.12);outline-offset:3px;border-radius:6px}

/* ==========================================================================
   2. TYPOGRAPHY
   ========================================================================== */
h1,h2,h3,h4,h5,h6{
  font-family:var(--font-heading);
  color:var(--text-heading);
  line-height:var(--lh-tight);
  letter-spacing:-0.01em;
  margin:0 0 var(--space-md) 0;
}
h1{font-size:var(--fs-3xl); background:var(--grad-aurora); -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 8px 34px rgba(16,48,46,0.18)}
h2{font-size:var(--fs-2xl); color:var(--text-primary)}
h3{font-size:var(--fs-xl)}
p{margin:0 0 var(--space-md) 0; color:var(--text-secondary); line-height:var(--lh-loose)}
small{font-size:var(--fs-sm); color:var(--text-dim)}

/* strong / emphasis */
strong{color:var(--accent-amber);font-weight:600}
em{color:var(--text-secondary);font-style:italic}

/* ==========================================================================
   3. LINKS
   ========================================================================== */
a{color:var(--link);text-decoration:none;position:relative;transition:color var(--trans),transform var(--trans)}
a::after{content:"";position:absolute;left:0;bottom:-3px;height:2px;width:0;background:linear-gradient(90deg,var(--accent-amber),var(--accent-cool));transition:width var(--trans)}
a:hover{color:var(--link-hover);transform:translateY(-1px)}
a:hover::after{width:100%}

/* better keyboard-visible links */
a:focus{box-shadow:0 4px 20px rgba(124,198,190,0.14)}

/* internal links standout */
a.internal-link{color:var(--accent-cool)}
a.internal-link:hover{color:var(--accent-amber)}

/* ==========================================================================
   4. GLOBAL LAYOUT
   ========================================================================== */
.app-root{display:flex;min-height:100vh;max-width:100%} /* safe general wrapper */

/* container to be used for the main layout */
.container{
  display:flex;
  width:100%;
  min-height:100vh;
}

/* ==========================================================================
   5. NAVBAR
   ========================================================================== */
.navbar{
  position:fixed;top:0;left:0;right:0;height:var(--navbar-h);
  display:flex;align-items:center;justify-content:center;
  background:rgba(4,18,20,0.48);backdrop-filter:blur(6px);
  border-bottom:1px solid var(--border-subtle);z-index:1200;
}
.navbar .navbar-inner{
  width:100%;max-width:var(--content-wide);display:flex;align-items:center;justify-content:space-between;padding:0 var(--space-md);
}
.navbar .brand{font-family:var(--font-heading);font-weight:700;color:var(--accent-cool);font-size:var(--fs-md)}
.navbar .nav{display:flex;gap:var(--space-md);align-items:center}
.navbar .nav a{padding:0.45rem 0.75rem;border-radius:10px;color:var(--text-secondary);font-weight:600}
.navbar .nav a:hover{background:var(--bg-glass);color:var(--text-primary);box-shadow:var(--glow)}

/* small screens - compact navbar */
@media (max-width:640px){
  .navbar .navbar-inner{padding:0 0.6rem}
  .nav{display:none}
}

/* ==========================================================================
   6. SIDEBAR (left file tree)
   ========================================================================== */
.filetree-sidebar{
  position:fixed;top:var(--navbar-h);left:0;height:calc(100vh - var(--navbar-h));width:var(--sidebar-w);
  padding:var(--space-lg);
  background:linear-gradient(180deg, rgba(7,18,19,0.72), rgba(8,28,31,0.6));
  border-right:1px solid var(--border-subtle);overflow:auto;z-index:110;
  transition:transform var(--trans),opacity var(--trans);
}
.filetree-sidebar h1{font-size:var(--fs-md);margin-bottom:var(--space-md);color:var(--text-primary);padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,0.02)}
.filetree{font-size:var(--fs-sm);color:var(--text-secondary)}
.filetree ul{list-style:none;padding-left:0}
.filetree li{padding:0.25rem 0}
.filetree a{display:block;padding:0.35rem 0.6rem;border-radius:8px;color:var(--text-secondary);transition:all var(--trans)}
.filetree a:hover{background:var(--bg-glass);color:var(--text-primary);transform:translateX(4px)}
.filetree a.active, .filetree a[aria-current="page"]{background:var(--bg-glass-strong);color:var(--accent-cool);box-shadow:var(--glow)}

/* folder marker */
.filetree .folder::before{content:"ðŸ“";margin-right:0.5rem}

/* responsive hide */
@media (max-width:968px){
  .filetree-sidebar{transform:translateX(-110%);position:fixed}
  .filetree-sidebar.active{transform:translateX(0)}
}

/* ==========================================================================
   7. RIGHT SIDEBAR (toc, backlinks, graph)
   ========================================================================== */
.sidebar{
  position:fixed;top:var(--navbar-h);right:0;height:calc(100vh - var(--navbar-h));width:var(--sidebar-w);
  padding:var(--space-lg);background:linear-gradient(180deg, rgba(8,25,25,0.6), rgba(6,20,22,0.52));
  border-left:1px solid var(--border-subtle);overflow:auto;z-index:110;transition:transform var(--trans)
}
.sidebar .sidebar-section{margin-bottom:var(--space-2xl)}
.sidebar h3{font-size:var(--fs-sm);color:var(--text-heading);margin-bottom:var(--space-sm);padding-bottom:6px;border-bottom:1px solid rgba(255,255,255,0.02)}
.toc ul{list-style:none;padding-left:0}
.toc a{display:block;padding:0.35rem 0.5rem;border-radius:8px;color:var(--text-muted);font-size:var(--fs-sm)}
.toc a:hover{background:var(--bg-glass);color:var(--text-primary)}
.backlinks .backlink-item{padding:0.6rem;margin-bottom:0.5rem;background:var(--bg-glass);border-radius:12px;border:1px solid var(--border-ghost)}
.backlinks .backlink-item a{color:var(--accent-amber);font-weight:600}

/* graph placeholder */
#link-graph{width:100%;height:280px;border-radius:14px;background:linear-gradient(180deg, rgba(15,40,40,0.25), rgba(5,18,20,0.2));border:1px solid var(--border-subtle)}

/* responsive hide */
@media (max-width:968px){
  .sidebar{transform:translateX(110%)}
  .sidebar.active{transform:translateX(0)}
}

/* ==========================================================================
   8. CONTENT AREA (center) â€” restored proportions & reading comfort
   ========================================================================== */
.content{
  margin-top:var(--navbar-h);
  margin-left:var(--sidebar-w);
  margin-right:var(--sidebar-w);
  padding:calc(var(--space-2xl)) var(--space-lg);
  min-height:calc(100vh - var(--navbar-h));
  width:100%;
}
.content-inner{max-width:var(--content-max);margin:0 auto}

/* article-like content improvements */
.content h1, .content h2, .content h3{margin-top:var(--space-lg);margin-bottom:var(--space-md)}
.content p{font-size:var(--fs-base);color:var(--text-secondary)}

/* images & media */
.content img, .content video, .content iframe{max-width:100%;height:auto;border-radius:12px;box-shadow:var(--shadow-sm);display:block;margin:var(--space-md) auto}

/* code blocks */
pre{background:linear-gradient(180deg, rgba(8,14,16,0.55), rgba(6,10,12,0.45));padding:1rem;border-radius:12px;overflow:auto;border:1px solid rgba(255,255,255,0.02);box-shadow:var(--shadow-sm)}
code{font-family:var(--font-mono);font-size:0.95em;background:rgba(15,28,28,0.22);padding:0.12rem 0.4rem;border-radius:8px;color:var(--text-primary);border:1px solid rgba(255,255,255,0.02)}

/* tables */
table{width:100%;border-collapse:collapse;background:linear-gradient(180deg, rgba(12,26,26,0.32), rgba(6,15,16,0.22));border-radius:12px;overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
th,td{padding:0.8rem 1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,0.02);color:var(--text-secondary)}
thead th{background:rgba(255,255,255,0.02);color:var(--text-primary);font-weight:700}

/* blockquote */
blockquote{padding:1rem 1.2rem;margin:1.1rem 0;background:linear-gradient(90deg, rgba(20,90,86,0.06), rgba(10,20,20,0.02));border-left:4px solid var(--accent-cool);border-radius:10px;color:var(--text-secondary);font-style:italic}

/* callouts (note/warn/tip) */
.callout{position:relative;padding:1rem;border-radius:12px;margin:1rem 0;background:var(--bg-glass);backdrop-filter:blur(6px);border-left:4px solid var(--accent-cool)}
.callout.note{border-left-color:var(--accent-cool)}
.callout.warning{border-left-color:var(--alert-warning)}
.callout.important{border-left-color:var(--alert-danger)}
.callout.tip{border-left-color:var(--alert-success)}
.callout .callout-title{font-weight:700;color:var(--text-primary);margin-bottom:0.35rem}

/* lists */
ul,ol{margin:0 0 var(--space-md) var(--space-lg);color:var(--text-secondary)}
ul li, ol li{margin-bottom:0.5rem;line-height:var(--lh-base)}

/* images in content */
.content img{display:block;margin:var(--space-md) auto;border-radius:12px}

/* ==========================================================================
   9. SEARCH
   ========================================================================== */
.search-container{position:relative}
.search-input{
  width:100%;padding:0.75rem 1rem;border-radius:14px;background:var(--bg-glass);
  border:1px solid var(--border-subtle);font-size:var(--fs-md);color:var(--text-primary);backdrop-filter:blur(6px)
}
.search-input::placeholder{color:var(--text-dim)}
.search-input:focus{outline:none;box-shadow:var(--glow);border-color:rgba(124,198,190,0.24)}
.search-results{
  position:absolute;left:0;right:0;top:calc(100% + 0.5rem);background:linear-gradient(180deg, rgba(6,18,18,0.7), rgba(6,18,18,0.58));
  border:1px solid var(--border-subtle);border-radius:12px;padding:0.5rem;max-height:420px;overflow:auto;z-index:1300
}
.search-result{padding:0.6rem;border-bottom:1px solid rgba(255,255,255,0.02)}
.search-result:last-child{border-bottom:none}
.search-result .result-title{font-weight:600;color:var(--accent-amber)}
.search-result .result-excerpt{font-size:var(--fs-sm);color:var(--text-muted)}

/* ==========================================================================
   10. SCROLLBARS (subtle)
   ========================================================================== */
/* Webkit */
::-webkit-scrollbar{width:10px;height:10px}
::-webkit-scrollbar-track{background:transparent;border-radius:100px}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg,var(--space-surf),var(--accent-cool));border-radius:100px;border:3px solid rgba(0,0,0,0)}
::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg,var(--accent-amber),var(--accent-cool))}

/* firefox */
*{scrollbar-width:thin;scrollbar-color:var(--space-surf) rgba(255,255,255,0.03)}

/* ==========================================================================
   11. FLOATING SHORTCUTS
   ========================================================================== */
.floating-buttons{position:fixed;bottom:20px;left:20px;display:flex;gap:12px;z-index:1400}
.floating-buttons img{width:36px;height:36px;border-radius:10px;cursor:pointer;transition:transform var(--trans),filter var(--trans)}
.floating-buttons img:hover{transform:scale(1.12) translateY(-3px);filter:brightness(1.08)}

/* ==========================================================================
   12. FULLSCREEN & THEATRE MODE (preserve functionality; tighten spacing)
   ========================================================================== */

/* fullscreen trigger button */
.fullscreen-btn{
  position:fixed;top:18px;right:18px;z-index:1401;padding:10px 14px;border-radius:20px;border:none;
  background:linear-gradient(135deg,var(--space-surf),var(--accent-amber));color:#042423;font-weight:700;
  box-shadow:0 8px 30px rgba(10,30,28,0.26);cursor:pointer;display:flex;align-items:center;gap:8px;transition:transform var(--trans);
}
.fullscreen-btn:hover{transform:translateY(-3px)}
.fullscreen-btn:active{transform:translateY(0)}

/* smooth transitions for key regions */
.navbar,.filetree-sidebar,.sidebar,.content,.fullscreen-btn{transition:transform var(--trans),opacity var(--trans),filter var(--trans)}

/* body.fullscreen-mode -> hide peripheral UI and center content */
body.fullscreen-mode{
  overflow:hidden;background:linear-gradient(180deg,#020607,#04121A) !important;
}
body.fullscreen-mode .navbar,
body.fullscreen-mode .filetree-sidebar,
body.fullscreen-mode .sidebar,
body.fullscreen-mode .search-container,
body.fullscreen-mode .site-header,
body.fullscreen-mode .site-nav,
body.fullscreen-mode .left-panel{opacity:0;pointer-events:none;transform:translateY(-6px);display:none}

/* fullscreen content layout */
body.fullscreen-mode .content{
  margin-left:0;margin-right:0;max-width:95vw !important;padding:8vh 4vw;min-height:100vh;
}

/* ensure media scales nicely in fullscreen */
body.fullscreen-mode .content img,
body.fullscreen-mode .content iframe,
body.fullscreen-mode .content embed,
body.fullscreen-mode .content video{max-width:100%!important;height:auto!important;display:block;margin:1rem auto}

/* Fullscreen API support selectors */
.content:fullscreen,:fullscreen .content{max-width:95vw;padding:8vh 4vw;display:block}
.content:fullscreen img, :fullscreen img{width:100%!important; height:auto!important}

/* theatre mode: cinematic focus */
body.theatre-mode{background:#000 !important;overflow-y:auto}
body.theatre-mode::before, body.theatre-mode::after{
  content:"";position:fixed;top:0;bottom:0;width:12vw;pointer-events:none;z-index:1298;
  background:radial-gradient(circle at center, rgba(255,170,80,0.06), rgba(0,0,0,0.9) 65%);filter:blur(56px)
}
body.theatre-mode::before{left:0}
body.theatre-mode::after{right:0}

/* focus content like a screen */
body.theatre-mode .content{
  background:linear-gradient(180deg,#0b0f10,#0a1112);border-radius:14px;padding:3.5rem 4.5rem;margin:6vh auto;color:#EAF9F3;
  box-shadow:0 30px 120px rgba(0,0,0,0.85);
  max-width:90vw !important;transition:all 420ms ease;
}

/* dark vignette overlay helper (use by script if needed) */
.theatre-vignette{position:fixed;inset:0;pointer-events:none;background:radial-gradient(ellipse at center, rgba(0,0,0,0) 70%, rgba(0,0,0,0.85) 100%);z-index:1299}

/* ==========================================================================
   13. RESPONSIVE & TWEAKS
   ========================================================================== */
/* content sizing for medium screens */
@media (max-width:1200px){
  .content{margin-right:var(--sidebar-w);max-width:calc(100vw - var(--sidebar-w))}
}

/* tablet & mobile simplifications */
@media (max-width:968px){
  .content{margin-left:0;margin-right:0;padding:var(--space-xl) var(--space-md)}
  .filetree-sidebar,.sidebar{position:fixed;top:var(--navbar-h);height:calc(100vh - var(--navbar-h))}
  .filetree-sidebar{left:0}
  .sidebar{right:0}
  .navbar .brand{font-size:var(--fs-sm)}
}

/* mobile */
@media (max-width:640px){
  .content{padding:1.25rem}
  h1{font-size:1.45rem}
  h2{font-size:1.15rem}
  .filetree-sidebar,.sidebar{display:none}
  .floating-buttons{left:12px;bottom:12px}
  .fullscreen-btn{top:12px;right:12px;padding:8px 10px}
}

/* very large screens â€” cap widths for readability */
@media (min-width:2000px){
  .content-inner{max-width:var(--content-wide)}
  .content{padding:6vh 6vw}
}

/* ==========================================================================
   14. Small utilities (useful in Obsidian context)
   ========================================================================== */
.u-hidden{display:none!important}
.u-center{text-align:center}
.u-muted{color:var(--text-dim)}
.kbd{display:inline-block;padding:0.08rem 0.45rem;border-radius:6px;background:rgba(0,0,0,0.25);border:1px solid rgba(255,255,255,0.02);font-family:var(--font-mono);font-size:0.85em}

/* ==========================================================================
   END â€” enjoy!
   ========================================================================== */
