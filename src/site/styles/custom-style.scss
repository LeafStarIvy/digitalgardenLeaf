/* ============================================================
   CUSTOM-STYLE.CSS — COSMIC DIGITAL GARDEN (REVAMP)
   - Drop into /styles/custom-style.css
   - PARTS numbered and commented for reviewers
   ============================================================ */

/* ============================================================
   PART 01 — ROOT TOKENS (Aurora Celestial palette supplied)
   - Highly granular palette, spacing, typography & effects
   ============================================================ */
:root {
  /* ---------- Color System (from your example) ---------- */
  --cosmic-void: #010508;
  --cosmic-abyss: #01080F;
  --primary-900: #020B19;
  --primary-850: #051425;
  --primary-800: #0A192F;
  --primary-750: #0E2038;
  --primary-700: #112240;
  --primary-650: #172C4C;
  --primary-600: #1E3A5F;
  --primary-550: #244467;
  --primary-500: #2A4A73;
  --primary-450: #31547F;
  --primary-400: #3B5F8F;
  --primary-350: #466B9E;
  --primary-300: #5478AD;
  --primary-250: #658ABE;
  --primary-200: #7599CB;
  --primary-150: #8AADED;
  --primary-100: #A3BFEF;
  --primary-75:  #BECCEA;
  --primary-50:  #D4E5FF;
  --primary-25:  #E9F2FF;

  /* ---------- Aurora spectrums ---------- */
  --aurora-teal-900: #035D87;
  --aurora-teal-700: #0679B3;
  --aurora-teal-500: #0EA5E9;
  --aurora-teal-300: #38BDF8;
  --aurora-teal-200: #55C6FA;
  --aurora-teal-100: #7DD3FC;
  --aurora-teal-50:  #BAE6FD;
  --aurora-teal-25:  #E0F5FF;

  --aurora-cyan-900: #03565F;
  --aurora-cyan-700: #047481;
  --aurora-cyan-500: #06B6D4;
  --aurora-cyan-300: #22D3EE;
  --aurora-cyan-200: #4DDBF1;
  --aurora-cyan-100: #A5F3FC;
  --aurora-cyan-50:  #CFFAFE;

  --aurora-purple-900: #4B1E99;
  --aurora-purple-700: #5F25C0;
  --aurora-purple-500: #7C3AED;
  --aurora-purple-400: #8B51F5;
  --aurora-purple-300: #A78BFA;
  --aurora-purple-100: #C4B5FD;

  --aurora-pink-900: #8F1DAA;
  --aurora-pink-700: #B324D3;
  --aurora-pink-500: #D946EF;
  --aurora-pink-300: #F0ABFC;

  --aurora-emerald-500: #10B981;
  --aurora-amber-500: #F59E0B;
  --aurora-rose-500: #F43F5E;

  /* ---------- Gradients & accents ---------- */
  --gradient-cosmic-horizon: linear-gradient(135deg, var(--primary-900), var(--primary-700) 50%, var(--primary-600));
  --gradient-aurora-sweep: linear-gradient(90deg, var(--aurora-purple-500), var(--aurora-pink-500), var(--aurora-teal-500));
  --gradient-northern-lights: linear-gradient(135deg, var(--aurora-cyan-500), var(--aurora-teal-300), var(--aurora-purple-400));
  --gradient-nebula-dust: linear-gradient(to bottom, var(--primary-800), var(--primary-700), var(--aurora-purple-900) 80%);

  /* ---------- UI tokens ---------- */
  --bg-primary: var(--primary-900);
  --bg-secondary: rgba(8, 12, 24, 0.5);
  --surface-1: rgba(16, 28, 46, 0.6);
  --surface-2: rgba(20, 36, 62, 0.55);
  --glass-bg: rgba(12, 20, 36, 0.56);
  --glass-bg-lighter: rgba(18, 30, 52, 0.44);
  --glass-border: rgba(255,255,255,0.04);

  --text-primary: var(--aurora-cyan-50);
  --text-secondary: var(--aurora-teal-100);
  --muted: var(--primary-200);
  --accent: var(--aurora-teal-100);
  --accent-strong: var(--aurora-purple-300);
  --success: var(--aurora-emerald-500);
  --danger: var(--aurora-rose-500);

  /* spacing & layout */
  --site-padding: 24px;
  --site-padding-sm: 16px;
  --max-width: 1200px;
  --sidebar-width: 320px;
  --gutter: 20px;

  /* radii & shadows */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 18px;
  --shadow-soft: 0 8px 30px rgba(2,6,20,0.45);
  --shadow-deep: 0 28px 80px rgba(2,6,20,0.65);

  /* typography */
  --font-main: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-heading: 'Space Grotesk', 'Montserrat', sans-serif;
  --fz-xs: .75rem;
  --fz-sm: .9rem;
  --fz-base: 1rem;
  --fz-md: 1.125rem;
  --fz-lg: 1.35rem;
  --fz-xl: 1.85rem;

  /* animation & performance */
  --ui-ease: cubic-bezier(.16,.84,.28,1);
  --mood-duration: 30s;
  --reduce-motion: 0;
  --particle-opacity: 0.90;
}

/* ============================================================
   PART 02 — BASE / RESET / BODY
   - Strong improved body/root as you supplied, with selection, base background, and grain
   ============================================================ */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { background: var(--bg-primary); font-family: var(--font-main); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
body {
  margin: 0;
  color: var(--text-primary);
  background-image: var(--gradient-cosmic-horizon);
  background-size: cover;
  background-attachment: fixed;
  line-height: 1.55;
  font-size: var(--fz-base);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  min-height: 100vh;
  -webkit-tap-highlight-color: transparent;
}

/* selection styling */
::selection { background: rgba(10,147,150,0.20); color: var(--aurora-cyan-50); }

/* default headings */
h1, h2, h3, h4 { font-family: var(--font-heading); color: var(--text-primary); margin: 0 0 .4rem 0; letter-spacing: -0.01em; }
h1 { font-size: var(--fz-4xl, 2.25rem); line-height: 1.05; }
h2 { font-size: var(--fz-2xl, 1.75rem); }
h3 { font-size: var(--fz-lg); }

/* paragraphs and lists */
p, li { color: var(--text-secondary); margin: 0 0 1rem 0; font-size: var(--fz-sm); }

/* small elements */
small, .meta { font-size: var(--fz-xs); color: var(--muted); }

/* ============================================================
   PART 03 — SKYBOX, NEBULAE & COSMIC BODIES (preserve particles)
   - Styling for .galaxy-skybox and layers. Add mood-cycle class to animate.
   ============================================================ */

/* main skybox wrapper (fixed, behind content) */
.galaxy-skybox {
  position: fixed;
  inset: 0;
  z-index: -110;
  pointer-events: none;
  overflow: visible;
  background: radial-gradient(ellipse at 20% 20%, rgba(255,255,255,0.02), transparent 5%),
              radial-gradient(ellipse at 80% 75%, rgba(124,58,237,0.02), transparent 8%),
              linear-gradient(180deg, rgba(2,6,20,0.9), rgba(0,0,8,1));
  filter: saturate(1.05) contrast(1.02);
  will-change: filter, transform;
}

/* mood hue cycle — subtle hue rotate on the skybox */
@keyframes moodHue {
  0%   { filter: hue-rotate(0deg) saturate(0.98) brightness(.98); }
  25%  { filter: hue-rotate(10deg) saturate(1.05) brightness(1.02); }
  50%  { filter: hue-rotate(24deg) saturate(1.08) brightness(1.03); }
  75%  { filter: hue-rotate(8deg)  saturate(1.02) brightness(1.01); }
  100% { filter: hue-rotate(0deg)  saturate(0.98) brightness(.98); }
}
@media (prefers-reduced-motion: no-preference) {
  .galaxy-skybox.mood { animation: moodHue var(--mood-duration) linear infinite; }
}

/* nebula layers (depth) */
.nebula { position: absolute; border-radius: 50%; filter: blur(48px) saturate(150%); pointer-events: none; mix-blend-mode: screen; }
.nebula--back { width: 160%; height: 160%; left: -30%; top: -20%; background: radial-gradient(700px 420px at 18% 32%, rgba(10,28,60,0.86), transparent 35%), radial-gradient(480px 300px at 82% 72%, var(--aurora-purple-400), transparent 32%); opacity: .62; transform: scale(1.08); }
.nebula--mid  { width: 140%; height: 140%; left: -10%; top: -5%; background: radial-gradient(480px 260px at 62% 32%, var(--aurora-teal-300), transparent 38%), radial-gradient(420px 230px at 22% 70%, var(--aurora-purple-300), transparent 36%); opacity: .55; transform: scale(1.03); }
.nebula--front{ width: 120%; height: 120%; left: -5%; top: 5%; background: radial-gradient(280px 180px at 32% 32%, var(--aurora-cyan-500), transparent 45%), radial-gradient(320px 220px at 72% 72%, rgba(255,255,255,0.02), transparent 45%); opacity: .42; transform: scale(1.015); }

/* cosmic bodies (planets / glows) */
.cosmic-body { position: absolute; border-radius: 50%; pointer-events: none; mix-blend-mode: screen; filter: drop-shadow(0 0 36px rgba(125,211,252,0.06)); opacity: .82; }
.cosmic-body.planet-1 { width: 520px; height: 520px; top: 6%; left: 8%; background: radial-gradient(circle at 40% 40%, var(--aurora-teal-700), transparent 72%); transform: translateZ(0); }
.cosmic-body.planet-2 { width: 420px; height: 420px; top: 60%; left: 66%; background: radial-gradient(circle at 30% 30%, var(--aurora-purple-500), transparent 78%); transform: translateZ(0); }
.cosmic-body.nebula-3 { width: 300px; height: 300px; top: 38%; left: 46%; background: radial-gradient(circle at 50% 50%, var(--aurora-cyan-500), transparent 78%); transform: translateZ(0); }

/* subtle float animations, but stop if reduced motion */
@media (prefers-reduced-motion: no-preference) {
  .cosmic-body { animation: floatSlow 36s var(--ui-ease) infinite alternate; }
  @keyframes floatSlow { to { transform: translateY(14px) rotate(3deg) translateZ(0); } }
}

/* small sheen over the whole skybox for depth */
.galaxy-skybox::after {
  content: "";
  position: absolute;
  inset: -8%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.012), transparent 20%);
  pointer-events: none;
  z-index: 0;
}

/* ============================================================
   PART 04 — PARTICLES & STARS (preserve pg-canvas)
   - Use your existing particles.js but ensure class names are correct
   ============================================================ */
.pg-canvas { position: absolute; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: -100; mix-blend-mode: screen; opacity: var(--particle-opacity); transition: opacity .35s var(--ui-ease); }
.pg-canvas--bg  { z-index: -105; opacity: .75; filter: blur(.8px); }
.pg-canvas--mid { z-index: -95; opacity: .9; filter: blur(.2px); }
.pg-canvas--fg  { z-index: -85; opacity: 1; }

/* mobile/perf fallback: reduce canvas intensity */
@media (max-width: 860px) { .pg-canvas { opacity: .55; filter: blur(.9px); } }

/* ============================================================
   PART 05 — PAGE LAYOUT: header, wrapper, columns, right sidebar
   ============================================================ */

/* top header: large, airy, centered with controls */
.site-header {
  width: 100%;
  max-width: var(--max-width);
  margin: 18px auto;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 12px 20px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));
  border-radius: var(--radius-md);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-soft);
  z-index: 30;
  position: relative;
}

/* brand area */
.brand {
  display: flex;
  align-items: center;
  gap: 14px;
}
.brand .logo {
  width: 56px; height: 56px; border-radius: 12px;
  background: linear-gradient(135deg, var(--aurora-teal-500), var(--aurora-purple-500));
  box-shadow: var(--shadow-soft);
  display: inline-flex; align-items: center; justify-content: center;
  color: white; font-weight: 700; font-family: var(--font-heading);
}
.brand .title {
  display: flex; flex-direction: column;
}
.brand .title .site-title {
  font-family: var(--font-heading);
  font-size: 1.4rem;
  color: transparent;
  background: var(--gradient-text-cosmic, linear-gradient(90deg, var(--aurora-teal-300), var(--aurora-purple-300)));
  -webkit-background-clip: text;
  background-clip: text;
  font-weight: 800;
  letter-spacing: -0.02em;
}
.brand .title .subtitle { font-size: .9rem; color: var(--muted); margin-top: 2px; }

/* header actions: search / theme toggle / new note */
.header-actions { margin-left: auto; display: flex; gap: 8px; align-items: center; }

/* wrapper with left gutter and right sidebar */
.app {
  max-width: var(--max-width);
  margin: 22px auto;
  padding: 0 var(--site-padding);
  position: relative;
  z-index: 20;
}

/* layout columns: main + right sidebar */
.page-grid {
  display: grid;
  grid-template-columns: 1fr var(--sidebar-width);
  gap: 22px;
  align-items: start;
}

/* if sidebar absent, single column */
.page-grid.no-sidebar { grid-template-columns: 1fr; }

/* main content shell */
.main {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding: 28px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-deep);
}

/* right sidebar with "On this page" and "Connected pages" */
.sidebar {
  position: sticky;
  top: 20px;
  align-self: start;
  padding: 18px;
  border-radius: var(--radius-md);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
  border: 1px solid rgba(255,255,255,0.02);
  box-shadow: var(--shadow-soft);
}

/* foldable / collapsible sidebar for mobile */
@media (max-width: 980px) {
  .page-grid { grid-template-columns: 1fr; }
  .sidebar { position: relative; top: auto; margin-top: 18px; }
}

/* ============================================================
   PART 06 — HERO / INDEX PAGE LAYOUT (index.njk)
   - Large hero with subtitle, search and tagline
   ============================================================ */

.hero {
  display: grid;
  gap: 12px;
  padding: 28px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.008));
  border-radius: var(--radius-lg);
  border: 1px solid var(--glass-border);
  margin-bottom: 18px;
}
.hero .lead { color: var(--text-secondary); font-size: var(--fz-md); }
.hero .cta-row { display:flex; gap:12px; align-items:center; margin-top:6px; }

/* search big */
.search-big {
  display:flex; align-items:center; gap:8px;
  padding: 10px 14px; border-radius: 999px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.02);
}
.search-big input { background: transparent; border: none; outline: none; color: var(--text-primary); width: 420px; font-size: var(--fz-base); }
@media (max-width: 860px) { .search-big input { width: 100%; } }

/* ============================================================
   PART 07 — GARDEN GRID / CARDS (notes, projects, media)
   ============================================================ */

.garden-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 16px;
}

/* standard card */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.016), rgba(255,255,255,0.006));
  border-radius: var(--radius-md);
  padding: 14px;
  border: 1px solid rgba(255,255,255,0.02);
  box-shadow: 0 10px 30px rgba(2,6,20,0.4);
  transition: transform .28s var(--ui-ease), box-shadow .28s var(--ui-ease);
  display: flex; flex-direction: column; gap: 10px; min-height: 140px;
}
.card:hover, .card:focus-within { transform: translateY(-6px); box-shadow: var(--shadow-deep); }

/* media thumbnail */
.card .thumb { width: 100%; height: 150px; border-radius: 10px; overflow: hidden; background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.35)); display:block; }

/* meta row */
.card .meta { display:flex; gap:10px; align-items:center; justify-content:space-between; font-size: .85rem; color: var(--muted); }

/* title */
.card .title { font-weight: 700; color: var(--text-primary); font-size: 1rem; margin: 0; }

/* excerpt */
.card .excerpt { color: var(--text-secondary); font-size: 0.95rem; line-height:1.4; }

/* badges */
.badges { display:flex; gap:8px; flex-wrap:wrap; }
.badge {
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006));
  border: 1px solid rgba(255,255,255,0.02);
  color: var(--text-primary); font-weight:600; padding:6px 10px; border-radius:999px; font-size:.78rem;
}

/* ============================================================
   PART 08 — NOTE / ARTICLE VIEW (note.njk)
   - Readable single-column content with in-article TOC anchors,
     clear media, and floating right sidebar showing On This Page + Connected Pages
   ============================================================ */

.garden-article {
  position: relative;
  background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.006));
  padding: 26px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-deep);
  color: var(--text-primary);
  line-height: 1.7;
  font-size: var(--fz-sm);
}

/* article headings */
.garden-article h1 { font-size: 1.9rem; margin-bottom: 8px; color: var(--text-primary); }
.garden-article h2 { font-size: 1.35rem; margin-top: 20px; color: var(--text-primary); }
.garden-article p { color: var(--text-secondary); }

/* callouts / blockquote */
.garden-article blockquote {
  border-left: 4px solid rgba(124,58,237,0.14);
  padding: 12px 16px; margin: 12px 0; background: rgba(124,58,237,0.03);
  border-radius: 8px; color: var(--text-secondary);
}

/* code blocks */
.garden-article pre, .garden-article code {
  background: rgba(5,8,18,0.64); padding: 10px; border-radius: 10px; color: var(--text-primary); font-family: monospace;
}

/* responsive images & embeds inside the article */
.garden-article img, .garden-article video { border-radius: 10px; max-width: 100%; height: auto; }

/* ============================================================
   PART 09 — RIGHT SIDEBAR CONTENT (On this page, Connected pages)
   - This is the critical area you said was missing.
   - We style .on-this-page and .connected-pages containers here.
   ============================================================ */

.sidebar-section { margin-bottom: 14px; }
.sidebar-section h4 { font-size: .95rem; margin: 0 0 8px 0; color: var(--text-primary); }
.on-this-page { display:flex; flex-direction:column; gap:8px; }
.on-this-page a { display:block; padding:8px; border-radius:8px; color:var(--text-secondary); background: rgba(255,255,255,0.01); border: 1px solid rgba(255,255,255,0.02); text-decoration:none; transition: background .18s var(--ui-ease); }
.on-this-page a:hover { background: rgba(125,211,252,0.06); color:var(--text-primary); transform: translateX(6px); }

/* connected pages / backlinks */
.connected-pages { display:flex; flex-direction:column; gap:8px; }
.connected-pages .link { padding:10px; border-radius:8px; background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.006)); border:1px solid rgba(255,255,255,0.02); color:var(--text-secondary); transition: transform .18s var(--ui-ease); }
.connected-pages .link:hover { transform: translateY(-4px); color:var(--text-primary); box-shadow: var(--shadow-soft); }

/* small graph preview area */
.graph-preview { height: 160px; border-radius: 10px; background: linear-gradient(180deg, rgba(16,20,36,0.55), rgba(6,8,20,0.4)); border: 1px solid rgba(255,255,255,0.02); overflow:hidden; }

/* ============================================================
   PART 10 — NAV, SEARCH & BUTTONS
   ============================================================ */

.nav { display:flex; gap:10px; align-items:center; }
.nav a { color: var(--text-secondary); padding: 8px 10px; border-radius: 9px; text-decoration:none; }
.nav a:hover { color: var(--text-primary); background: rgba(255,255,255,0.02); transform: translateY(-2px); }

.search {
  display:flex; align-items:center; gap:8px;
  background: rgba(255,255,255,0.02); padding: 8px 12px; border-radius: 999px; border:1px solid rgba(255,255,255,0.02);
}
.search input { background: transparent; border: none; color: var(--text-primary); outline: none; min-width: 220px; }

/* buttons */
.btn {
  display:inline-flex; align-items:center; gap:8px; padding: 8px 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.02);
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006)); color: var(--text-primary); cursor:pointer; transition: transform .18s var(--ui-ease);
}
.btn-primary {
  background: linear-gradient(90deg, rgba(124,58,237,0.12), rgba(14,165,233,0.08));
  border: 1px solid rgba(124,58,237,0.14);
  color: var(--text-primary);
}
.btn:hover { transform: translateY(-3px); }

/* ============================================================
   PART 11 — TAGS, FILTERS & META
   ============================================================ */
.tag-list { display:flex; gap:8px; flex-wrap:wrap; }
.tag {
  padding:6px 10px; border-radius:999px; font-weight:600; color:var(--text-primary);
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.006)); border:1px solid rgba(255,255,255,0.02);
}
.tag:hover { transform: translateY(-3px); box-shadow: var(--shadow-soft); }

/* ============================================================
   PART 12 — FOOTER & SMALL UI PIECES
   ============================================================ */
.site-footer { max-width: var(--max-width); margin: 24px auto 48px auto; text-align:center; color:var(--muted); font-size:.9rem; }

/* small floating fullscreen or focus button (kept) */
.fullscreen-btn {
  position: fixed; right: 18px; bottom: 18px; z-index: 60;
  padding: 10px 14px; border-radius: 999px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.02);
  color:var(--text-primary); box-shadow: var(--shadow-soft);
}

/* ============================================================
   PART 13 — RESPONSIVE TUNING & ACCESSIBILITY
   ============================================================ */

/* ease motion preferences */
@media (prefers-reduced-motion: reduce) { :root { --reduce-motion: 1; } .galaxy-skybox, .cosmic-body, .nebula, .card, .pg-canvas { animation: none !important; transition: none !important; } }

/* breakpoints */
@media (max-width: 980px) {
  .page-grid { grid-template-columns: 1fr; }
  .brand .site-title { font-size: 1.15rem; }
  .sidebar { display: none; } /* optional: hide sidebar on small devices; you can toggle with JS */
  .search input { min-width: 120px; }
  .card .thumb { height: 120px; }
}

/* really small */
@media (max-width: 520px) {
  .site-header { padding: 10px; gap: 8px; }
  .brand .logo { width: 44px; height: 44px; }
  .hero { padding: 18px; }
  .garden-grid { gap: 12px; }
}

/* ============================================================
   PART 14 — UTILITY CLASSES (for maintainers)
   ============================================================ */
.u-center { text-align:center; }
.u-muted { color: var(--muted); }
.hidden { display:none !important; }

/* debug highlight */
.debug-outline *[data-debug] { outline: 1px dashed rgba(255,255,255,0.06); }

/* ============================================================
   PART 15 — MINIMAL HTML SUGGESTIONS (index.njk & note.njk)
   - Optional: add these small snippets for full skybox + sidebar content
   ============================================================ */

/*
  Add to your base layout (index.njk and note.njk) just after <body>:

  <!-- SKYBOX: background layers & particles canvases -->
  <div class="galaxy-skybox mood" aria-hidden="true">
    <div class="nebula nebula--back"></div>
    <div class="nebula nebula--mid"></div>
    <div class="nebula nebula--front"></div>

    <div class="cosmic-body planet-1" aria-hidden="true"></div>
    <div class="cosmic-body planet-2" aria-hidden="true"></div>
    <div class="cosmic-body nebula-3" aria-hidden="true"></div>

    <!-- particles canvases (ensure the js creates these with the classes) -->
    <canvas class="pg-canvas pg-canvas--bg"></canvas>
    <canvas class="pg-canvas pg-canvas--mid"></canvas>
    <canvas class="pg-canvas pg-canvas--fg"></canvas>
  </div>

  ------------------------------------------------------------------
  Sidebar 'On this page' and 'Connected pages' — ensure note.njk prints
  these elements in the sidebar area (you likely already have a sidebar
  partial in the Digital Garden template — adapt names if needed):

  <aside class="sidebar">
    <div class="sidebar-section on-this-page">
      <h4>On this page</h4>
      <!-- Render headings list -->
      <a href="#heading-1">Heading 1</a>
      <a href="#heading-2">Heading 2</a>
    </div>

    <div class="sidebar-section connected-pages">
      <h4>Connected pages</h4>
      <!-- Render backlinks -->
      <div class="link"><a href="/notes/other">Other note title</a></div>
      <div class="link"><a href="/notes/project">Project note</a></div>
    </div>

    <div class="sidebar-section">
      <h4>Graph</h4>
      <div class="graph-preview"><!-- optional SVG/canvas --></div>
    </div>
  </aside>

  Note: if you cannot modify Nunjucks, place these same classes in the HTML your template already generates.
*/

/* ============================================================
   END OF custom-style.css
   ============================================================ */
