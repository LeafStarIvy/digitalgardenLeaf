/*
 * ENHANCED COSMIC DIGITAL GARDEN SCSS
 * Deep Space & Super Mario Galaxy Inspired Theme
 * Complete visual transformation with immersive cosmic elements
 */

// 1. CORE VARIABLES & ENHANCED GALACTIC PALETTE
// ------------------------------------------------------------------
body {
  /* === DEEP SPACE GALACTIC PALETTE === */
  
  /* Void & Abyss - Deepest cosmic colors */
  --cosmic-void: #000005;           /* Pure void */
  --cosmic-abyss: #000611;          /* Deep abyss */
  --cosmic-deep: #0a0e1a;           /* Deep space */
  --cosmic-deeper: #0f1324;         /* Deeper space */
  
  /* Primary Space Scale - Enhanced depth */
  --primary-950: #000005;           /* Absolute void */
  --primary-900: #000611;           /* Void space */
  --primary-850: #0a0e1a;           /* Deep void */
  --primary-800: #0f1324;           /* Deep space */
  --primary-750: #15192d;           /* Space depth */
  --primary-700: #1a1f36;           /* Dark space */
  --primary-650: #20253f;           /* Mid space */
  --primary-600: #262c48;           /* Space */
  --primary-550: #2c3251;           /* Light space */
  --primary-500: #32385a;           /* Lighter space */
  --primary-450: #383e63;           /* Cosmic blue */
  --primary-400: #3e446c;           /* Blue space */
  --primary-350: #444a75;           /* Light blue space */
  --primary-300: #4a507e;           /* Stellar blue */
  --primary-250: #505687;           /* Light stellar */
  --primary-200: #565c90;           /* Dawn blue */
  --primary-150: #5c6299;           /* Light dawn */
  --primary-100: #6268a2;           /* Morning blue */
  --primary-75: #686eab;            /* Light morning */
  --primary-50: #6e74b4;            /* Sky blue */
  --primary-25: #747abd;            /* Light sky */
  
  /* Galaxy Blue Spectrum - Mario Galaxy inspired */
  --galaxy-blue-900: #0d1b2a;       /* Deep galaxy blue */
  --galaxy-blue-800: #132a3f;       /* Dark galaxy */
  --galaxy-blue-700: #1a3754;       /* Galaxy blue */
  --galaxy-blue-600: #214469;       /* Mid galaxy */
  --galaxy-blue-500: #28527e;       /* Light galaxy */
  --galaxy-blue-400: #3a6ea5;       /* Bright galaxy */
  --galaxy-blue-300: #4d8bc7;       /* Light bright galaxy */
  --galaxy-blue-200: #6ba3d6;       /* Sky galaxy */
  --galaxy-blue-100: #89bce5;       /* Light sky galaxy */
  --galaxy-blue-50: #a7d5f4;        /* Ice galaxy */
  
  /* Cosmic Cyan - Aurora effects */
  --cosmic-cyan-900: #003544;       /* Deep cosmic cyan */
  --cosmic-cyan-800: #004a5c;       /* Dark cosmic cyan */
  --cosmic-cyan-700: #006074;       /* Cosmic cyan */
  --cosmic-cyan-600: #00758c;       /* Mid cosmic cyan */
  --cosmic-cyan-500: #008ba4;       /* Light cosmic cyan */
  --cosmic-cyan-400: #1aa0bc;       /* Bright cosmic cyan */
  --cosmic-cyan-300: #34b5d4;       /* Aurora cyan */
  --cosmic-cyan-200: #4ecaec;       /* Light aurora cyan */
  --cosmic-cyan-100: #68dfff;       /* Ice aurora cyan */
  --cosmic-cyan-50: #82f4ff;        /* Frost cyan */
  
  /* Stellar Purple - Nebula effects */
  --stellar-purple-900: #2d1b69;    /* Deep stellar purple */
  --stellar-purple-800: #3a2277;    /* Dark stellar */
  --stellar-purple-700: #472a85;    /* Stellar purple */
  --stellar-purple-600: #543293;    /* Mid stellar */
  --stellar-purple-500: #6139a1;    /* Light stellar */
  --stellar-purple-400: #7448af;    /* Bright stellar */
  --stellar-purple-300: #8758bd;    /* Nebula purple */
  --stellar-purple-200: #9a68cb;    /* Light nebula */
  --stellar-purple-100: #ad78d9;    /* Ice nebula */
  --stellar-purple-50: #c088e7;     /* Frost purple */
  
  /* Cosmic Pink - Energy effects */
  --cosmic-pink-900: #4a1458;       /* Deep cosmic pink */
  --cosmic-pink-800: #5c1b6b;       /* Dark cosmic pink */
  --cosmic-pink-700: #6e227e;       /* Cosmic pink */
  --cosmic-pink-600: #802991;       /* Mid cosmic pink */
  --cosmic-pink-500: #9230a4;       /* Light cosmic pink */
  --cosmic-pink-400: #a437b7;       /* Bright cosmic pink */
  --cosmic-pink-300: #b63eca;       /* Energy pink */
  --cosmic-pink-200: #c845dd;       /* Light energy pink */
  --cosmic-pink-100: #da4cf0;       /* Ice energy pink */
  --cosmic-pink-50: #ec53ff;        /* Frost pink */
  
  /* Stardust Gold - Accent colors */
  --stardust-gold-900: #332700;     /* Deep stardust */
  --stardust-gold-800: #4d3a00;     /* Dark stardust */
  --stardust-gold-700: #664d00;     /* Stardust gold */
  --stardust-gold-600: #806000;     /* Mid stardust */
  --stardust-gold-500: #997300;     /* Light stardust */
  --stardust-gold-400: #b38600;     /* Bright stardust */
  --stardust-gold-300: #cc9900;     /* Gold */
  --stardust-gold-200: #e6ac00;     /* Light gold */
  --stardust-gold-100: #ffbf00;     /* Bright gold */
  --stardust-gold-50: #ffd633;      /* Ice gold */
  
  /* Emerald Comet - Green accents */
  --emerald-comet-700: #064e3b;     /* Deep emerald comet */
  --emerald-comet-600: #059669;     /* Dark emerald comet */
  --emerald-comet-500: #10b981;     /* Emerald comet */
  --emerald-comet-400: #34d399;     /* Bright emerald comet */
  --emerald-comet-300: #6ee7b7;     /* Light emerald comet */
  --emerald-comet-200: #a7f3d0;     /* Ice emerald comet */
  
  /* === GRADIENT SYSTEMS === */
  --gradient-cosmic-void: linear-gradient(135deg, var(--cosmic-void), var(--cosmic-abyss), var(--cosmic-deep));
  --gradient-deep-space: linear-gradient(180deg, var(--cosmic-deep), var(--primary-800), var(--primary-700));
  --gradient-galaxy-horizon: linear-gradient(135deg, var(--galaxy-blue-900), var(--galaxy-blue-700) 50%, var(--stellar-purple-800));
  --gradient-cosmic-aurora: linear-gradient(90deg, var(--cosmic-cyan-500), var(--galaxy-blue-400), var(--stellar-purple-500));
  --gradient-nebula-dream: linear-gradient(135deg, var(--stellar-purple-700), var(--cosmic-pink-600), var(--cosmic-cyan-700));
  --gradient-stardust-trail: linear-gradient(60deg, var(--primary-900), var(--stardust-gold-900) 30%, var(--galaxy-blue-800) 70%);
  --gradient-cosmic-text: linear-gradient(90deg, var(--cosmic-cyan-200), var(--galaxy-blue-100), var(--stellar-purple-200));
  --gradient-button-energy: linear-gradient(45deg, var(--stellar-purple-500), var(--cosmic-cyan-500), var(--cosmic-pink-500));
  --gradient-card-cosmic: linear-gradient(135deg, rgba(40, 82, 126, 0.15), rgba(100, 57, 161, 0.1), rgba(0, 139, 164, 0.05));
  --gradient-nav-cosmic: linear-gradient(180deg, var(--primary-850), var(--primary-800));
  --gradient-sidebar-cosmic: linear-gradient(90deg, var(--primary-900), var(--primary-850));
  
  /* === BACKGROUND SYSTEM === */
  --background-void: var(--cosmic-void);
  --background-primary: var(--primary-900);
  --background-secondary: var(--primary-850);
  --background-tertiary: var(--primary-800);
  --background-quaternary: var(--primary-750);
  --surface-deep: var(--primary-800);
  --surface-mid: var(--primary-700);
  --surface-light: var(--primary-600);
  
  /* === GLASS EFFECTS === */
  --glass-cosmic: rgba(15, 19, 36, 0.85);
  --glass-cosmic-light: rgba(21, 25, 45, 0.75);
  --glass-cosmic-lighter: rgba(26, 31, 54, 0.65);
  --glass-cosmic-dark: rgba(10, 14, 26, 0.95);
  --glass-blur-cosmic: blur(16px);
  --glass-blur-strong: blur(20px);
  --glass-blur-medium: blur(12px);
  --glass-blur-light: blur(8px);
  
  /* === TEXT SYSTEM === */
  --text-cosmic-primary: var(--cosmic-cyan-50);
  --text-cosmic-secondary: var(--galaxy-blue-100);
  --text-cosmic-tertiary: var(--galaxy-blue-200);
  --text-cosmic-accent: var(--stellar-purple-100);
  --text-cosmic-bright: var(--cosmic-cyan-100);
  --text-cosmic-muted: var(--primary-200);
  --text-cosmic-dim: var(--primary-250);
  --text-cosmic-highlight: var(--stardust-gold-100);
  --text-cosmic-energy: var(--cosmic-pink-200);
  --text-cosmic-success: var(--emerald-comet-300);
  --text-cosmic-warning: var(--stardust-gold-200);
  --text-cosmic-danger: var(--cosmic-pink-300);
  
  /* === INTERACTIVE SYSTEM === */
  --link-cosmic: var(--cosmic-cyan-300);
  --link-cosmic-hover: var(--cosmic-cyan-100);
  --link-cosmic-active: var(--cosmic-cyan-200);
  --link-cosmic-visited: var(--stellar-purple-300);
  --highlight-cosmic: var(--stellar-purple-300);
  --highlight-cosmic-bright: var(--stellar-purple-200);
  --highlight-cosmic-dim: var(--stellar-purple-500);
  --highlight-cosmic-bg: rgba(97, 57, 161, 0.15);
  --selection-cosmic-bg: rgba(0, 139, 164, 0.3);
  --selection-cosmic-text: var(--cosmic-cyan-50);
  
  /* === ENHANCED TYPOGRAPHY === */
  --font-family-cosmic: 'Inter Variable', 'SF Pro Display', -apple-system, system-ui, sans-serif;
  --font-family-heading-cosmic: 'Space Grotesk', 'Orbitron', 'Exo 2', sans-serif;
  --font-family-code-cosmic: 'JetBrains Mono', 'Fira Code', 'Source Code Pro', monospace;
  
  /* === LAYOUT SYSTEM === */
  --content-width-cosmic: 800px;
  --content-width-wide-cosmic: 1000px;
  --sidebar-width-cosmic: 320px;
  --navbar-height-cosmic: 70px;
  --spacing-cosmic-xs: 8px;
  --spacing-cosmic-sm: 16px;
  --spacing-cosmic: 24px;
  --spacing-cosmic-lg: 32px;
  --spacing-cosmic-xl: 48px;
  --spacing-cosmic-2xl: 64px;
  
  /* === BORDER SYSTEM === */
  --border-radius-cosmic: 16px;
  --border-radius-cosmic-sm: 12px;
  --border-radius-cosmic-lg: 24px;
  --border-radius-cosmic-xl: 32px;
  --border-cosmic: 1px solid rgba(104, 223, 255, 0.15);
  --border-cosmic-strong: 2px solid rgba(104, 223, 255, 0.25);
  --border-cosmic-accent: 1px solid rgba(135, 88, 189, 0.2);
  
  /* === SHADOW & GLOW SYSTEM === */
  --shadow-cosmic-sm: 0 4px 8px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
  --shadow-cosmic: 0 8px 16px rgba(0, 0, 0, 0.4), 0 4px 8px rgba(0, 0, 0, 0.3);
  --shadow-cosmic-lg: 0 16px 32px rgba(0, 0, 0, 0.5), 0 8px 16px rgba(0, 0, 0, 0.4);
  --shadow-cosmic-xl: 0 24px 48px rgba(0, 0, 0, 0.6), 0 12px 24px rgba(0, 0, 0, 0.5);
  
  --glow-cosmic-cyan: 0 0 20px rgba(104, 223, 255, 0.3);
  --glow-cosmic-purple: 0 0 20px rgba(135, 88, 189, 0.3);
  --glow-cosmic-pink: 0 0 20px rgba(236, 83, 255, 0.3);
  --glow-cosmic-gold: 0 0 20px rgba(255, 191, 0, 0.3);
  --glow-cosmic-strong: 0 0 30px rgba(104, 223, 255, 0.4), 0 0 60px rgba(135, 88, 189, 0.2);
  
  /* === ANIMATION SYSTEM === */
  --transition-cosmic: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --transition-cosmic-fast: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --transition-cosmic-slow: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  --animation-duration-cosmic: 2s;
  --animation-duration-cosmic-slow: 4s;
  --animation-duration-cosmic-fast: 1s;
  
  /* === EFFECTS === */
  --backdrop-blur-cosmic: blur(20px);
  --backdrop-saturate-cosmic: saturate(180%);
  --grain-opacity-cosmic: 0.03;
  --starfield-opacity-cosmic: 0.7;
  
  /* Global setup with enhanced cosmic styling */
  position: relative;
  font-family: var(--font-family-cosmic);
  color: var(--text-cosmic-primary);
  background: var(--gradient-cosmic-void);
  background-attachment: fixed;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  
  /* Enhanced selection styling */
  ::selection {
    background-color: var(--selection-cosmic-bg);
    color: var(--selection-cosmic-text);
    text-shadow: 0 0 8px rgba(104, 223, 255, 0.5);
  }
}

/* === COSMIC BACKGROUND EFFECTS === */
body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 30%, rgba(135, 88, 189, 0.1) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(0, 139, 164, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 40% 80%, rgba(236, 83, 255, 0.06) 0%, transparent 50%),
    radial-gradient(circle at 90% 70%, rgba(255, 191, 0, 0.04) 0%, transparent 50%);
  pointer-events: none;
  z-index: -2;
  animation: cosmic-drift 20s ease-in-out infinite;
}

body::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(104, 223, 255, 0.01) 2px,
      rgba(104, 223, 255, 0.01) 4px
    );
  pointer-events: none;
  z-index: -1;
  opacity: 0.3;
}

@keyframes cosmic-drift {
  0%, 100% { 
    transform: translateY(0px) rotate(0deg);
    filter: hue-rotate(0deg);
  }
  33% { 
    transform: translateY(-10px) rotate(1deg);
    filter: hue-rotate(60deg);
  }
  66% { 
    transform: translateY(5px) rotate(-1deg);
    filter: hue-rotate(-30deg);
  }
}

/* === ENHANCED LINK STYLES === */
a {
  color: var(--link-cosmic);
  text-decoration: none;
  position: relative;
  transition: var(--transition-cosmic);
  
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-cosmic-aurora);
    transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    border-radius: 2px;
  }
  
  &:hover {
    color: var(--link-cosmic-hover);
    text-shadow: var(--glow-cosmic-cyan);
    transform: translateY(-1px);
  }
  
  &:hover::after {
    width: 100%;
    box-shadow: var(--glow-cosmic-cyan);
  }
  
  &.internal-link {
    border-bottom: 1px dashed rgba(104, 223, 255, 0.3);
    
    &:hover {
      border-bottom: 1px dashed rgba(135, 88, 189, 0.5);
    }
  }
}

/* === ENHANCED SCROLLBAR === */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--primary-900);
  border-radius: 10px;
  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
}

::-webkit-scrollbar-thumb {
  background: var(--gradient-cosmic-aurora);
  border-radius: 10px;
  border: 2px solid var(--primary-900);
  box-shadow: var(--glow-cosmic-cyan);
  
  &:hover {
    background: var(--gradient-nebula-dream);
    box-shadow: var(--glow-cosmic-strong);
  }
}

* {
  scrollbar-width: thin;
  scrollbar-color: var(--cosmic-cyan-400) var(--primary-900);
}

/* === ENHANCED TYPOGRAPHY === */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-family-heading-cosmic);
  letter-spacing: -0.02em;
  line-height: 1.2;
  margin-top: 2em;
  margin-bottom: 0.5em;
  font-weight: 700;
}

h1 {
  font-size: 3.2rem;
  background: var(--gradient-cosmic-text);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 30px rgba(104, 223, 255, 0.3);
  margin-bottom: 1.5rem;
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 0;
    width: 60px;
    height: 3px;
    background: var(--gradient-cosmic-aurora);
    border-radius: 2px;
    box-shadow: var(--glow-cosmic-cyan);
  }
}

h2 {
  font-size: 2.4rem;
  color: var(--text-cosmic-accent);
  text-shadow: 0 0 20px rgba(135, 88, 189, 0.3);
}

h3 {
  font-size: 1.8rem;
  color: var(--text-cosmic-secondary);
  text-shadow: 0 0 15px rgba(40, 82, 126, 0.3);
}

h4 {
  font-size: 1.4rem;
  color: var(--text-cosmic-tertiary);
}

/* === ENHANCED CALLOUTS === */
.callout {
  border-left: 3px solid var(--highlight-cosmic);
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  padding: 1.5rem;
  margin: 2rem 0;
  border-radius: var(--border-radius-cosmic);
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-cosmic);
  border: var(--border-cosmic);
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-card-cosmic);
    pointer-events: none;
    z-index: -1;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(104, 223, 255, 0.05) 0%, transparent 70%);
    pointer-events: none;
    z-index: -1;
    animation: cosmic-pulse 6s ease-in-out infinite;
  }
  
  &.note { 
    border-left-color: var(--cosmic-cyan-400);
    box-shadow: var(--shadow-cosmic), var(--glow-cosmic-cyan);
  }
  
  &.warning { 
    border-left-color: var(--stardust-gold-400);
    box-shadow: var(--shadow-cosmic), var(--glow-cosmic-gold);
  }
  
  &.important { 
    border-left-color: var(--cosmic-pink-400);
    box-shadow: var(--shadow-cosmic), var(--glow-cosmic-pink);
  }
  
  &.tip { 
    border-left-color: var(--emerald-comet-400);
    box-shadow: var(--shadow-cosmic), 0 0 20px rgba(52, 211, 153, 0.3);
  }
  
  .callout-title {
    font-weight: 600;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    color: var(--text-cosmic-bright);
    text-shadow: 0 0 10px rgba(104, 223, 255, 0.5);
    
    svg {
      margin-right: 0.75rem;
      filter: drop-shadow(0 0 5px currentColor);
    }
  }
}

@keyframes cosmic-pulse {
  0%, 100% { opacity: 0.05; transform: scale(1); }
  50% { opacity: 0.1; transform: scale(1.1); }
}

/* === ENHANCED TABLES === */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 2rem 0;
  overflow: hidden;
  border-radius: var(--border-radius-cosmic);
  box-shadow: var(--shadow-cosmic-lg);
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border: var(--border-cosmic);
  
  thead {
    background: var(--gradient-nav-cosmic);
    color: var(--text-cosmic-bright);
    
    th {
      padding: 1.25rem;
      text-align: left;
      font-weight: 600;
      border-bottom: 2px solid rgba(104, 223, 255, 0.2);
      text-shadow: 0 0 10px rgba(104, 223, 255, 0.3);
      position: relative;
      
      &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 1px;
        background: var(--gradient-cosmic-aurora);
      }
    }
  }
  
  tbody {
    tr {
      transition: var(--transition-cosmic-fast);
      
      &:nth-child(even) {
        background: rgba(21, 25, 45, 0.3);
      }
      
      &:hover {
        background: rgba(104, 223, 255, 0.1);
        transform: scale(1.01);
        box-shadow: inset 0 0 20px rgba(104, 223, 255, 0.1);
      }
    }
    
    td {
      padding: 1rem 1.25rem;
      border-bottom: 1px solid rgba(104, 223, 255, 0.08);
      transition: var(--transition-cosmic-fast);
    }
  }
}

/* === CODE BLOCKS === */
pre, code {
  font-family: var(--font-family-code-cosmic);
  border-radius: var(--border-radius-cosmic-sm);
}

pre {
  padding: 1.5rem;
  overflow-x: auto;
  background: var(--glass-cosmic-dark);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border: var(--border-cosmic);
  box-shadow: var(--shadow-cosmic);
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--gradient-cosmic-aurora);
  }
}

code {
  background: rgba(21, 25, 45, 0.6);
  padding: 0.3em 0.6em;
  border: 1px solid rgba(104, 223, 255, 0.1);
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
}

pre code {
  background: transparent;
  padding: 0;
  border: none;
  box-shadow: none;
}

/* === NAVIGATION BAR === */
.navbar {
  background: var(--gradient-nav-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-bottom: var(--border-cosmic-strong);
  box-shadow: var(--shadow-cosmic-lg);
  height: var(--navbar-height-cosmic);
  position: sticky;
  top: 0;
  z-index: 1000;
  
  .nav-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 2rem;
    height: 100%;
    max-width: var(--content-width-wide-cosmic);
    margin: 0 auto;
  }
  
  .nav-title {
    font-family: var(--font-family-heading-cosmic);
    font-size: 1.5rem;
    font-weight: 700;
    background: var(--gradient-cosmic-text);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 20px rgba(104, 223, 255, 0.3);
  }
  
  .nav-links {
    display: flex;
    gap: 2rem;
    
    a {
      color: var(--text-cosmic-secondary);
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius-cosmic-sm);
      transition: var(--transition-cosmic-fast);
      
      &:hover {
        background: rgba(104, 223, 255, 0.1);
        color: var(--text-cosmic-bright);
        box-shadow: var(--glow-cosmic-cyan);
        transform: translateY(-2px);
      }
    }
  }
}

/* === SIDEBAR ENHANCEMENTS === */
.sidebar {
  background: var(--gradient-sidebar-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-left: var(--border-cosmic);
  box-shadow: var(--shadow-cosmic-xl);
  width: var(--sidebar-width-cosmic);
  opacity: 0.95;
  transition: var(--transition-cosmic);
  
  &:hover {
    opacity: 1;
    transform: translateX(-5px);
    box-shadow: var(--shadow-cosmic-xl), var(--glow-cosmic-cyan);
  }
  
  .sidebar-section {
    padding: 1.5rem;
    border-bottom: 1px solid rgba(104, 223, 255, 0.1);
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 1px;
      background: var(--gradient-cosmic-aurora);
      transition: width 0.4s ease;
    }
    
    &:hover::after {
      width: 100%;
    }
    
    h3 {
      color: var(--text-cosmic-accent);
      font-size: 1.1rem;
      margin-bottom: 1rem;
      text-shadow: 0 0 10px rgba(135, 88, 189, 0.3);
    }
    
    ul {
      list-style: none;
      padding: 0;
      
      li {
        margin-bottom: 0.5rem;
        
        a {
          display: block;
          padding: 0.5rem 0.75rem;
          border-radius: var(--border-radius-cosmic-sm);
          transition: var(--transition-cosmic-fast);
          border-left: 2px solid transparent;
          
          &:hover {
            background: rgba(104, 223, 255, 0.08);
            border-left-color: var(--cosmic-cyan-400);
            transform: translateX(5px);
            box-shadow: inset 0 0 10px rgba(104, 223, 255, 0.1);
          }
        }
      }
    }
  }
}

/* === FILETREE SIDEBAR === */
.filetree-sidebar {
  background: var(--gradient-sidebar-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-right: var(--border-cosmic);
  box-shadow: var(--shadow-cosmic-xl);
  width: var(--sidebar-width-cosmic);
  
  h1 {
    margin-top: 140px; /* Space for GIF */
    position: relative;
    text-align: center;
    
    &::before {
      content: '';
      position: absolute;
      top: -130px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 120px;
      background-image: var(--title-header-gif);
      background-size: contain;
      background-position: center;
      background-repeat: no-repeat;
      border-radius: 50%;
      box-shadow: var(--glow-cosmic-strong);
      animation: cosmic-rotate 20s linear infinite;
    }
  }
  
  .tree-item {
    padding: 0.4rem 1rem;
    cursor: pointer;
    transition: var(--transition-cosmic-fast);
    border-radius: var(--border-radius-cosmic-sm);
    margin: 0.2rem 0.5rem;
    border-left: 2px solid transparent;
    
    &:hover {
      background: rgba(104, 223, 255, 0.1);
      border-left-color: var(--cosmic-cyan-400);
      transform: translateX(8px);
      box-shadow: var(--glow-cosmic-cyan);
    }
    
    &.active {
      background: rgba(135, 88, 189, 0.15);
      border-left-color: var(--stellar-purple-400);
      color: var(--text-cosmic-bright);
      box-shadow: var(--glow-cosmic-purple);
    }
    
    .tree-icon {
      margin-right: 0.75rem;
      filter: drop-shadow(0 0 3px currentColor);
    }
  }
}

@keyframes cosmic-rotate {
  from { transform: translateX(-50%) rotate(0deg); }
  to { transform: translateX(-50%) rotate(360deg); }
}

/* === CONTENT AREA === */
.content {
  background: rgba(15, 19, 36, 0.3);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-radius: var(--border-radius-cosmic-lg);
  box-shadow: var(--shadow-cosmic-lg);
  border: var(--border-cosmic);
  margin: 2rem;
  padding: 3rem;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-card-cosmic);
    pointer-events: none;
    z-index: -1;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: -100%;
    right: -100%;
    width: 300%;
    height: 300%;
    background: radial-gradient(circle, rgba(104, 223, 255, 0.03) 0%, transparent 70%);
    pointer-events: none;
    z-index: -1;
    animation: cosmic-drift-slow 30s ease-in-out infinite;
  }
}

@keyframes cosmic-drift-slow {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  33% { transform: translate(-20px, -30px) rotate(120deg); }
  66% { transform: translate(20px, -10px) rotate(240deg); }
}

/* === SEARCH CONTAINER === */
.search-container {
  position: relative;
  margin: 1rem 2rem;
  
  .search-input {
    width: 100%;
    padding: 1rem 1.5rem;
    background: var(--glass-cosmic);
    backdrop-filter: var(--backdrop-blur-cosmic);
    border: var(--border-cosmic);
    border-radius: var(--border-radius-cosmic);
    color: var(--text-cosmic-primary);
    font-size: 1rem;
    box-shadow: var(--shadow-cosmic);
    transition: var(--transition-cosmic);
    
    &::placeholder {
      color: var(--text-cosmic-muted);
    }
    
    &:focus {
      outline: none;
      border-color: var(--cosmic-cyan-400);
      box-shadow: var(--shadow-cosmic), var(--glow-cosmic-cyan);
      transform: scale(1.02);
    }
  }
  
  .search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--glass-cosmic-dark);
    backdrop-filter: var(--backdrop-blur-cosmic);
    border: var(--border-cosmic);
    border-top: none;
    border-radius: 0 0 var(--border-radius-cosmic) var(--border-radius-cosmic);
    box-shadow: var(--shadow-cosmic-lg);
    max-height: 400px;
    overflow-y: auto;
    z-index: 1001;
    
    .search-result {
      padding: 1rem 1.5rem;
      border-bottom: 1px solid rgba(104, 223, 255, 0.1);
      cursor: pointer;
      transition: var(--transition-cosmic-fast);
      
      &:hover {
        background: rgba(104, 223, 255, 0.1);
        transform: translateX(5px);
      }
      
      .result-title {
        font-weight: 600;
        color: var(--text-cosmic-bright);
        margin-bottom: 0.25rem;
      }
      
      .result-preview {
        font-size: 0.9rem;
        color: var(--text-cosmic-muted);
        opacity: 0.8;
      }
    }
  }
}

/* === GRAPH VISUALIZATION === */
.graph-container {
  background: var(--glass-cosmic-dark);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border: var(--border-cosmic);
  border-radius: var(--border-radius-cosmic);
  box-shadow: var(--shadow-cosmic-lg);
  padding: 1.5rem;
  margin: 1rem 0;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
      radial-gradient(circle at 30% 70%, rgba(135, 88, 189, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 70% 30%, rgba(0, 139, 164, 0.08) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }
  
  .graph-title {
    color: var(--text-cosmic-accent);
    font-size: 1.2rem;
    margin-bottom: 1rem;
    text-align: center;
    text-shadow: 0 0 15px rgba(135, 88, 189, 0.3);
  }
  
  #graph-canvas {
    border-radius: var(--border-radius-cosmic-sm);
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
  }
}

/* === FLASHCARD SYSTEM === */
.flashcard-grid {
  display: grid;
  gap: 1.5rem;
  margin: 2rem 0;
}

.grid-2 { grid-template-columns: repeat(2, 1fr); }
.grid-3 { grid-template-columns: repeat(3, 1fr); }
.grid-4 { grid-template-columns: repeat(4, 1fr); }

.flashcard {
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-radius: var(--border-radius-cosmic);
  overflow: hidden;
  box-shadow: var(--shadow-cosmic);
  border: var(--border-cosmic);
  transition: var(--transition-cosmic);
  display: flex;
  flex-direction: column;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--gradient-card-cosmic);
    pointer-events: none;
    z-index: -1;
    opacity: 0;
    transition: var(--transition-cosmic);
  }
  
  &:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: var(--shadow-cosmic-xl), var(--glow-cosmic-cyan);
    border-color: var(--cosmic-cyan-400);
    
    &::before {
      opacity: 1;
    }
  }
  
  a {
    display: flex;
    flex-direction: column;
    text-decoration: none;
    color: inherit;
    height: 100%;
    
    &::after {
      display: none;
    }
  }
  
  .flashcard-image {
    background: rgba(10, 14, 26, 0.8);
    padding: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 1px;
      background: var(--gradient-cosmic-aurora);
    }
    
    img {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.5));
      transition: var(--transition-cosmic);
      border-radius: var(--border-radius-cosmic-sm);
    }
  }
  
  &:hover .flashcard-image img {
    transform: scale(1.08);
    filter: drop-shadow(0 8px 16px rgba(104, 223, 255, 0.3));
  }
  
  .flashcard-content {
    padding: 1.5rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    
    h3 {
      margin: 0 0 1rem;
      color: var(--text-cosmic-bright);
      font-size: 1.2rem;
      font-weight: 600;
      text-shadow: 0 0 10px rgba(104, 223, 255, 0.3);
    }
    
    p {
      margin: 0;
      color: var(--text-cosmic-secondary);
      font-size: 0.9rem;
      line-height: 1.5;
      opacity: 0.9;
    }
  }
}

/* === BLOCKQUOTES === */
blockquote {
  border-left: 4px solid var(--stellar-purple-400);
  padding: 1.5rem 2rem;
  margin: 2rem 0;
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border-radius: 0 var(--border-radius-cosmic) var(--border-radius-cosmic) 0;
  box-shadow: var(--shadow-cosmic);
  position: relative;
  font-style: italic;
  color: var(--text-cosmic-secondary);
  
  &::before {
    content: '"';
    position: absolute;
    top: -10px;
    left: 20px;
    font-size: 4rem;
    color: var(--stellar-purple-300);
    opacity: 0.3;
    font-family: serif;
  }
  
  p:last-child {
    margin-bottom: 0;
  }
}

/* === DATETIME CONTAINER === */
.datetime-container {
  position: fixed;
  top: 1.5rem;
  right: 1.5rem;
  font-family: var(--font-family-cosmic);
  font-size: 1rem;
  color: var(--text-cosmic-muted);
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
  border: var(--border-cosmic);
  border-radius: var(--border-radius-cosmic);
  padding: 0.75rem 1.25rem;
  box-shadow: var(--shadow-cosmic);
  display: flex;
  align-items: center;
  gap: 1rem;
  opacity: 0.9;
  transition: var(--transition-cosmic);
  z-index: 1000;
  
  &:hover {
    opacity: 1;
    transform: scale(1.05);
    box-shadow: var(--shadow-cosmic-lg), var(--glow-cosmic-cyan);
  }
  
  .datetime-toggle {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    color: var(--text-cosmic-muted);
    opacity: 0.7;
    transition: var(--transition-cosmic-fast);
    border-radius: 50%;
    
    &:hover {
      opacity: 1;
      background: rgba(104, 223, 255, 0.1);
      transform: scale(1.1);
    }
  }
}

/* === PARTICLES ENHANCEMENT === */
.particles-js-canvas-el {
  opacity: 0.8;
  mix-blend-mode: screen;
  filter: blur(0.5px);
  animation: cosmic-particles 15s infinite ease-in-out;
}

@keyframes cosmic-particles {
  0%, 100% { 
    opacity: 0.8; 
    filter: blur(0.5px) hue-rotate(0deg); 
  }
  25% { 
    opacity: 0.9; 
    filter: blur(1px) hue-rotate(90deg); 
  }
  50% { 
    opacity: 0.7; 
    filter: blur(0.8px) hue-rotate(180deg); 
  }
  75% { 
    opacity: 0.85; 
    filter: blur(0.3px) hue-rotate(270deg); 
  }
}

/* === FULLSCREEN BUTTON === */
.fullscreen-btn {
  position: fixed;
  top: 2rem;
  right: 2rem;
  background: var(--gradient-button-energy);
  border: var(--border-cosmic);
  color: var(--text-cosmic-bright);
  padding: 1rem 1.5rem;
  border-radius: var(--border-radius-cosmic);
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  transition: var(--transition-cosmic);
  box-shadow: var(--shadow-cosmic);
  z-index: 1002;
  backdrop-filter: var(--backdrop-blur-cosmic);
  
  &:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: var(--shadow-cosmic-lg), var(--glow-cosmic-strong);
    background: var(--gradient-nebula-dream);
  }
  
  &:active {
    transform: translateY(-1px) scale(1.02);
  }
  
  svg {
    filter: drop-shadow(0 0 5px currentColor);
  }
}

/* === FOCUS MODE === */
body.fullscreen-mode {
  .navbar,
  .filetree-sidebar,
  .sidebar,
  .search-container,
  .fullpage-overlay,
  .galaxy-spiral-container {
    opacity: 0;
    pointer-events: none;
    transform: scale(0.95);
  }
  
  .fullscreen-btn {
    background: var(--gradient-stardust-trail);
    top: 2.5rem;
    right: 2.5rem;
    transform: scale(1.1);
    z-index: 9999;
    box-shadow: var(--shadow-cosmic-xl), var(--glow-cosmic-gold);
  }
  
  .content {
    max-width: 95vw !important;
    margin: 0 auto;
    padding: 8vh 3vw;
    min-height: 100vh;
    border-radius: var(--border-radius-cosmic-xl);
    box-shadow: var(--shadow-cosmic-2xl), var(--glow-cosmic-strong);
    
    &::after {
      animation: cosmic-drift-fullscreen 20s ease-in-out infinite;
    }
  }
}

@keyframes cosmic-drift-fullscreen {
  0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
  25% { transform: translate(-30px, -40px) rotate(90deg) scale(1.1); }
  50% { transform: translate(30px, -20px) rotate(180deg) scale(0.9); }
  75% { transform: translate(-20px, 30px) rotate(270deg) scale(1.05); }
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 1400px) {
  .grid-4 { grid-template-columns: repeat(3, 1fr); }
  .sidebar { width: 280px; }
  .filetree-sidebar { width: 280px; }
}

@media (max-width: 1000px) {
  .grid-3, .grid-4 { grid-template-columns: repeat(2, 1fr); }
  .sidebar, .filetree-sidebar { width: 250px; }
  
  .navbar .nav-links {
    gap: 1rem;
    
    a {
      padding: 0.4rem 0.8rem;
      font-size: 0.9rem;
    }
  }
}

@media (max-width: 768px) {
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  
  .content {
    margin: 1rem;
    padding: 2rem;
    border-radius: var(--border-radius-cosmic);
  }
  
  .navbar {
    height: 60px;
    
    .nav-content {
      padding: 0 1rem;
    }
    
    .nav-title {
      font-size: 1.2rem;
    }
    
    .nav-links {
      gap: 0.5rem;
    }
  }
  
  .sidebar, .filetree-sidebar {
    width: 100%;
    position: fixed;
    top: 0;
    left: -100%;
    height: 100vh;
    z-index: 2000;
    transition: left 0.3s ease;
    
    &.open {
      left: 0;
    }
  }
  
  .datetime-container {
    top: 1rem;
    right: 1rem;
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
  }
  
  .fullscreen-btn {
    top: 1rem;
    right: 1rem;
    padding: 0.8rem 1.2rem;
    font-size: 0.8rem;
  }
  
  body.fullscreen-mode .content {
    max-width: 95vw !important;
    padding: 4vh 2vw;
  }
}

@media (max-width: 480px) {
  h1 { font-size: 2.4rem; }
  h2 { font-size: 1.8rem; }
  h3 { font-size: 1.4rem; }
  
  .content {
    padding: 1.5rem;
  }
  
  .callout {
    padding: 1rem;
    margin: 1rem 0;
  }
  
  .flashcard {
    .flashcard-content {
      padding: 1rem;
      
      h3 {
        font-size: 1rem;
      }
      
      p {
        font-size: 0.85rem;
      }
    }
  }
}

/* === LOADING ANIMATIONS === */
@keyframes cosmic-loading {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes cosmic-glow {
  0%, 100% { box-shadow: 0 0 5px rgba(104, 223, 255, 0.5); }
  50% { box-shadow: 0 0 20px rgba(104, 223, 255, 0.8), 0 0 30px rgba(135, 88, 189, 0.4); }
}

.loading {
  animation: cosmic-loading 2s linear infinite, cosmic-glow 3s ease-in-out infinite;
}

/* === UTILITY CLASSES === */
.cosmic-glow {
  box-shadow: var(--glow-cosmic-cyan);
}

.cosmic-glow-purple {
  box-shadow: var(--glow-cosmic-purple);
}

.cosmic-text-gradient {
  background: var(--gradient-cosmic-text);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.cosmic-bg-gradient {
  background: var(--gradient-cosmic-aurora);
}

.cosmic-border {
  border: var(--border-cosmic);
}

.cosmic-glass {
  background: var(--glass-cosmic);
  backdrop-filter: var(--backdrop-blur-cosmic);
}

/* === PRINT STYLES === */
@media print {
  body::before,
  body::after,
  .particles-js-canvas-el,
  .fullscreen-btn,
  .datetime-container {
    display: none !important;
  }
  
  .content {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    border: 1px solid #ccc !important;
  }
}
