/*
 * STELLAR GARDEN - ADVANCED SCSS THEME
 * A sophisticated, immersive theme for knowledge gardens
 * with dynamic visual elements and responsive design
 */

:root {
  /* ======= FOUNDATION ======= */
  
  /* COLOR SYSTEM - Interstellar Palette */
  --void: #080510;
  --deep-space: #0F0A20;
  --nebula-dark: #1A1335;
  --nebula: #261A45;
  --cosmos: #312154;
  --stardust: #3B2868;
  --twilight: #4E3B7A;
  --dusk: #6248A0;
  --dawn: #8B6BC8;
  --starlight: #B490F5;
  --cosmic-mist: #D0B7FF;
  --nebula-glow: #E2D4FF;
  --distant-star: #F0ECFF;
  
  /* ACCENT COLORS - Celestial Bodies */
  --solar-core: #FF7B29;
  --solar-surface: #FF9D54;
  --solar-flare: #FFCA86;
  
  --terra-deep: #1EBEA5;
  --terra: #29E3C5;
  --terra-glow: #85F0E0;
  
  --plasma-hot: #F945CF;
  --plasma: #FE71E8;
  --plasma-cool: #FFA2F3;
  
  --neutron-dense: #3965FF;
  --neutron: #6B8FFF;
  --neutron-light: #9EB9FF;
  
  --gravity-well: #7E21F3;
  --gravity: #9F56F7;
  --gravity-field: #BF8BFC;
  
  /* GRADIENTS - Cosmic Phenomena */
  --gradient-event-horizon: linear-gradient(135deg, var(--void), var(--deep-space));
  --gradient-nebula-birth: linear-gradient(to right, var(--nebula-dark), var(--cosmos));
  --gradient-neutron-star: linear-gradient(to bottom right, var(--neutron-dense), var(--gravity-well));
  --gradient-stellar-fusion: linear-gradient(90deg, var(--gravity-field), var(--plasma), var(--solar-flare));
  --gradient-cosmic-dawn: linear-gradient(to top, var(--nebula-dark), var(--cosmic-mist));
  --gradient-aurora-borealis: linear-gradient(110deg, var(--terra-deep), var(--neutron), var(--plasma-hot));
  --gradient-galaxy-spiral: conic-gradient(
    from 215deg at 50% 50%,
    var(--deep-space),
    var(--nebula-dark),
    var(--cosmos),
    var(--stardust),
    var(--gravity-well),
    var(--deep-space)
  );
  
  /* TEXT SYSTEM - Clarity Across the Cosmos */
  --text-primary: var(--distant-star);
  --text-secondary: var(--cosmic-mist);
  --text-tertiary: var(--nebula-glow);
  --text-accent: var(--gravity-field);
  --text-accent-alt: var(--terra-glow);
  --text-subtle: rgba(208, 183, 255, 0.7);
  --text-muted: rgba(208, 183, 255, 0.5);
  --text-dim: rgba(208, 183, 255, 0.35);
  --text-faint: rgba(208, 183, 255, 0.2);
  --text-link: var(--neutron);
  --text-link-hover: var(--neutron-light);
  --text-highlight: var(--solar-surface);
  --text-warning: var(--solar-core);
  --text-danger: var(--plasma-hot);
  --text-success: var(--terra);
  
  /* TYPOGRAPHY - Intelligible Transmission */
  --font-main: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
  --font-headings: 'Outfit', 'Satoshi', 'Work Sans', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Cascadia Code', monospace;
  --font-special: 'Space Grotesk', 'Manrope', sans-serif;
  
  --font-size-xs: clamp(0.7rem, 0.7rem + 0.1vw, 0.8rem);
  --font-size-sm: clamp(0.85rem, 0.85rem + 0.1vw, 0.95rem);
  --font-size-base: clamp(1rem, 1rem + 0.15vw, 1.15rem);
  --font-size-md: clamp(1.1rem, 1.1rem + 0.2vw, 1.3rem);
  --font-size-lg: clamp(1.25rem, 1.25rem + 0.3vw, 1.55rem);
  --font-size-xl: clamp(1.5rem, 1.5rem + 0.5vw, 2rem);
  --font-size-2xl: clamp(1.75rem, 1.75rem + 0.75vw, 2.5rem);
  --font-size-3xl: clamp(2.25rem, 2.25rem + 1vw, 3.25rem);
  --font-size-4xl: clamp(3rem, 3rem + 1.5vw, 4.5rem);
  
  --line-height-tight: 1.15;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.75;
  --line-height-loose: 2;
  
  --tracking-tighter: -0.04em;
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;
  --tracking-wider: 0.04em;
  
  /* LAYOUT - Cosmic Architecture */
  --max-width: 1400px;
  --content-width: 800px;
  --main-padding: clamp(20px, 4vw, 40px);
  --grid-gap: clamp(24px, 3vw, 40px);
  --section-spacing: clamp(48px, 8vh, 120px);
  --block-spacing: clamp(24px, 4vh, 60px);
  --element-spacing: clamp(16px, 2vh, 32px);
  
  --header-height: clamp(60px, 8vh, 90px);
  --footer-height: clamp(100px, 15vh, 200px);
  --sidebar-width: clamp(280px, 25vw, 360px);
  
  /* SURFACES - Astral Planes */
  --surface-transparent: rgba(26, 19, 53, 0.2);
  --surface-subtle: rgba(38, 26, 69, 0.4);
  --surface-mild: rgba(49, 33, 84, 0.65);
  --surface-moderate: rgba(59, 40, 104, 0.75);
  --surface-strong: rgba(78, 59, 122, 0.85);
  --surface-intense: rgba(107, 72, 160, 0.9);
  
  /* EFFECTS - Cosmic Phenomena */
  --blur-subtle: blur(3px);
  --blur-moderate: blur(8px);
  --blur-strong: blur(15px);
  --blur-intense: blur(25px);
  
  --glow-subtle: 0 0 20px rgba(126, 33, 243, 0.1);
  --glow-moderate: 0 0 25px rgba(126, 33, 243, 0.2);
  --glow-strong: 0 0 30px rgba(126, 33, 243, 0.3);
  --glow-intense: 0 0 40px rgba(126, 33, 243, 0.4);
  
  --glow-neutron: 0 0 25px rgba(57, 101, 255, 0.3);
  --glow-terra: 0 0 25px rgba(30, 190, 165, 0.3);
  --glow-plasma: 0 0 25px rgba(249, 69, 207, 0.3);
  --glow-solar: 0 0 25px rgba(255, 123, 41, 0.3);
  
  /* BORDERS & SHAPES - Cosmic Geometry */
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-2xl: 32px;
  --radius-full: 9999px;
  
  --border-thin: 1px;
  --border-regular: 2px;
  --border-thick: 3px;
  
  --border-subtle: rgba(140, 107, 200, 0.15);
  --border-soft: rgba(140, 107, 200, 0.25);
  --border-medium: rgba(140, 107, 200, 0.4);
  --border-strong: rgba(140, 107, 200, 0.6);
  
  /* SHADOWS - Gravitational Fields */
  --shadow-sm: 0 2px 10px rgba(8, 5, 16, 0.15);
  --shadow-md: 0 4px 20px rgba(8, 5, 16, 0.2);
  --shadow-lg: 0 8px 30px rgba(8, 5, 16, 0.25);
  --shadow-xl: 0 12px 40px rgba(8, 5, 16, 0.3);
  --shadow-inner: inset 0 2px 10px rgba(8, 5, 16, 0.2);
  
  /* ANIMATIONS - Cosmic Time */
  --transition-fast: 150ms ease;
  --transition-normal: 300ms ease;
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-bounce: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* Z-INDEX - Dimensional Planes */
  --z-base: 1;
  --z-above: 10;
  --z-elevated: 20;
  --z-floating: 30;
  --z-overlay: 40;
  --z-modal: 50;
  --z-cosmic: 100;
}

/* ======= GLOBAL STYLES ======= */

/* Base reset */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 100%;
  scroll-behavior: smooth;
  scroll-padding-top: var(--header-height);
}

body {
  font-family: var(--font-main);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  color: var(--text-primary);
  background: var(--gradient-event-horizon);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  
  /* Text rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  
  &::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    opacity: 0.035;
    z-index: -1;
    pointer-events: none;
  }
  
  &::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle at 15% 35%, rgba(126, 33, 243, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 85% 25%, rgba(30, 190, 165, 0.1) 0%, transparent 35%),
                radial-gradient(circle at 75% 85%, rgba(249, 69, 207, 0.12) 0%, transparent 45%),
                radial-gradient(circle at 25% 75%, rgba(57, 101, 255, 0.08) 0%, transparent 35%);
    z-index: -1;
    pointer-events: none;
  }
}

/* Selection styling */
::selection {
  background: rgba(126, 33, 243, 0.3);
  color: var(--distant-star);
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--deep-space);
}

::-webkit-scrollbar-thumb {
  background: var(--stardust);
  border-radius: var(--radius-full);
  transition: background var(--transition-normal);
  
  &:hover {
    background: var(--twilight);
  }
}

/* ======= TYPOGRAPHY ======= */

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-headings);
  font-weight: 700;
  line-height: var(--line-height-tight);
  letter-spacing: var(--tracking-tight);
  color: var(--text-primary);
  margin-bottom: 0.5em;
}

h1 {
  font-size: var(--font-size-3xl);
  background: var(--gradient-stellar-fusion);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin-bottom: 0.7em;
}

h2 {
  font-size: var(--font-size-2xl);
  color: var(--cosmic-mist);
  position: relative;
  
  &::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: -0.3em;
    height: 3px;
    width: 3em;
    background: var(--gradient-aurora-borealis);
    border-radius: var(--radius-full);
  }
}

h3 {
  font-size: var(--font-size-xl);
  color: var(--starlight);
}

h4 {
  font-size: var(--font-size-lg);
  color: var(--dawn);
}

h5 {
  font-size: var(--font-size-md);
  color: var(--dawn);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

h6 {
  font-size: var(--font-size-base);
  color: var(--twilight);
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: var(--tracking-wider);
}

p {
  margin-bottom: 1.5em;
  font-size: var(--font-size-base);
  color: var(--text-secondary);
}

.large-text {
  font-size: var(--font-size-lg);
  line-height: var(--line-height-relaxed);
}

.small-text {
  font-size: var(--font-size-sm);
  color: var(--text-tertiary);
}

.tiny-text {
  font-size: var(--font-size-xs);
  color: var(--text-dim);
  letter-spacing: var(--tracking-wide);
}

/* Links */
a {
  color: var(--text-link);
  text-decoration: none;
  transition: all var(--transition-normal);
  position: relative;
  
  &:hover, &:focus {
    color: var(--text-link-hover);
    text-decoration: none;
    
    &::after {
      transform: scaleX(1);
      opacity: 1;
    }
  }
  
  &::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 100%;
    height: 1px;
    background: var(--gradient-aurora-borealis);
    transform: scaleX(0.2);
    opacity: 0;
    transform-origin: left;
    transition: transform var(--transition-normal), opacity var(--transition-normal);
  }
  
  &.btn {
    &::after {
      display: none;
    }
  }
}

/* Lists */
ul, ol {
  margin: 0 0 1.5em 1.2em;
  
  li {
    margin-bottom: 0.5em;
    color: var(--text-secondary);
    
    &::marker {
      color: var(--gravity-field);
    }
  }
}

ul {
  list-style-type: none;
  
  li {
    position: relative;
    padding-left: 1.5em;
    
    &::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0.5em;
      width: 0.5em;
      height: 0.5em;
      background: var(--gravity-field);
      border-radius: var(--radius-sm);
      transform: rotate(45deg);
      opacity: 0.8;
    }
  }
}

/* Code */
pre, code {
  font-family: var(--font-mono);
  font-size: var(--font-size-sm);
  letter-spacing: var(--tracking-tight);
}

code {
  background: var(--surface-subtle);
  color: var(--terra-glow);
  padding: 0.2em 0.4em;
  border-radius: var(--radius-sm);
  font-size: 0.9em;
}

pre {
  background: var(--surface-moderate);
  padding: 1.5em;
  border-radius: var(--radius-md);
  overflow-x: auto;
  margin: 2em 0;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-subtle);
  
  code {
    background: transparent;
    color: var(--text-primary);
    padding: 0;
    font-size: var(--font-size-sm);
  }
}

/* Blockquote */
blockquote {
  border-left: 4px solid var(--gravity-field);
  padding: 1em 1.5em;
  margin: 2em 0;
  background: var(--surface-subtle);
  border-radius: 0 var(--radius-md) var(--radius-md) 0;
  font-style: italic;
  box-shadow: var(--shadow-sm);
  
  p {
    color: var(--cosmic-mist);
    font-size: var(--font-size-md);
    
    &:last-child {
      margin-bottom: 0;
    }
  }
  
  cite {
    display: block;
    margin-top: 1em;
    font-size: var(--font-size-sm);
    color: var(--text-subtle);
    font-style: normal;
  }
}

/* ======= LAYOUT COMPONENTS ======= */

/* Container */
.container {
  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--main-padding);
}

.content-container {
  max-width: var(--content-width);
  margin: 0 auto;
}

/* Grid */
.grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--grid-gap);
}

/* Columns helpers */
.col-12 { grid-column: span 12; }
.col-11 { grid-column: span 11; }
.col-10 { grid-column: span 10; }
.col-9 { grid-column: span 9; }
.col-8 { grid-column: span 8; }
.col-7 { grid-column: span 7; }
.col-6 { grid-column: span 6; }
.col-5 { grid-column: span 5; }
.col-4 { grid-column: span 4; }
.col-3 { grid-column: span 3; }
.col-2 { grid-column: span 2; }
.col-1 { grid-column: span 1; }

@media (max-width: 1024px) {
  .col-md-12 { grid-column: span 12; }
  .col-md-6 { grid-column: span 6; }
  .col-md-4 { grid-column: span 4; }
  .col-md-3 { grid-column: span 3; }
}

@media (max-width: 768px) {
  .col-sm-12 { grid-column: span 12; }
  .col-sm-6 { grid-column: span 6; }
}

/* Flex helpers */
.flex {
  display: flex;
}

.flex-col {
  flex-direction: column;
}

.items-center {
  align-items: center;
}

.justify-between {
  justify-content: space-between;
}

.gap-sm {
  gap: calc(var(--grid-gap) * 0.5);
}

.gap-md {
  gap: var(--grid-gap);
}

.gap-lg {
  gap: calc(var(--grid-gap) * 1.5);
}

/* Spacing helpers */
.mt-lg { margin-top: var(--element-spacing); }
.mb-lg { margin-bottom: var(--element-spacing); }
.my-lg { margin-top: var(--element-spacing); margin-bottom: var(--element-spacing); }
.mx-auto { margin-left: auto; margin-right: auto; }

.pb-section { padding-bottom: var(--section-spacing); }
.pt-section { padding-top: var(--section-spacing); }
.py-section { padding-top: var(--section-spacing); padding-bottom: var(--section-spacing); }

/* ======= UI COMPONENTS ======= */

/* Section */
.section {
  position: relative;
  padding: var(--section-spacing) 0;
  
  &__title {
    text-align: center;
    margin-bottom: var(--element-spacing);
  }
  
  &__subtitle {
    text-align: center;
    color: var(--text-subtle);
    font-size: var(--font-size-lg);
    margin-top: calc(var(--element-spacing) * -0.5);
    margin-bottom: var(--element-spacing);
  }
}

/* Card */
.card {
  background: var(--surface-subtle);
  backdrop-filter: var(--blur-moderate);
  -webkit-backdrop-filter: var(--blur-moderate);
  border-radius: var(--radius-lg);
  border: 1px solid var(--border-subtle);
  padding: 2rem;
  box-shadow: var(--shadow-md);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal);
  overflow: hidden;
  position: relative;
  
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      var(--border-strong),
      transparent
    );
    opacity: 0.5;
  }
  
  &::after {
    content: "";
    position: absolute;
    pointer-events: none;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      120deg,
      rgba(255, 255, 255, 0.05),
      rgba(255, 255, 255, 0.01) 40%,
      rgba(255, 255, 255, 0) 60%
    );
  }
  
  &:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg), var(--glow-subtle);
  }
  
  &__title {
    font-size: var(--font-size-lg);
    margin-bottom: 1rem;
    color: var(--starlight);
  }
  
  &__content {
    color: var(--text-secondary);
  }
  
  &__footer {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid var(--border-subtle);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  /* Card variations */
  &--feature {
    padding: 2.5rem;
    
    .card__title {
      font-size: var(--font-size-xl);
    }
  }
  
  &--minimal {
    background: var(--surface-transparent);
    padding: 1.5rem;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
    }
  }
  
  &--highlight {
    border-top: 3px solid var(--gravity-field);
    box-shadow: var(--shadow-md), var(--glow-subtle);
    
    &:hover {
      box-shadow: var(--shadow-lg), var(--glow-moderate);
    }
  }
}

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75em 1.5em;
  border-radius: var(--radius-full);
  font-family: var(--font-special);
  font-weight: 600;
  font-size: var(--font-size-sm);
  text-align: center;
  text-decoration: none;
  cursor: pointer;
  transition: all var(--transition-normal);
  border: none;
  outline: none;
  position: relative;
  overflow: hidden;
  
  /* Base button */
  &--primary {
    background: var(--gradient-neutron-star);
    color: var(--distant-star);
    box-shadow: var(--shadow-md), var(--glow-subtle);
    
    &:hover {
      box-shadow: var(--shadow-lg), var(--glow-moderate);
      transform: translateY(-2px);
    }
    
    &:active {
      transform: translateY(0);
    }
    
    &::after {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      transition: left 0.7s;
    }
    
    &:hover::after {
      left: 100%;
    }
  }
  
  &--secondary {
    background: transparent;
    border: 2px solid var(--border-medium);
    color: var(--gravity-field);
    
    &:hover {
      background: var(--surface-subtle);
      border-color: var(--border-strong);
      color: var(--gravity-light);
    }
  }
  
  &--ghost {
    background: transparent;
    color: var(--text-primary);
    padding: 0.5em 1em;
    
    &:hover {
      background: var(--surface-transparent);
      color: var(--starlight);
    }
  }
  
  &--small {
    font-size: var(--font-size-xs);
    padding: 0.5em 1em;
  }
  
  &--large {
    font-size: var(--font-size-md);
    padding: 0.75em 2em;
  }
  
  &--icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5em;
    
    svg {
      width: 1.2em;
      height: 1.2em;
    }
  }
}

/* Tags */
.tag {
  display: inline-block;
  padding: 0.25em 0.75em;
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: 600;
  background: var(--surface-moderate);
  color: var(--text-accent);
  transition: all var(--transition-normal);
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
  }
  
  &--primary {
    background: var(--surface-strong);
    color: var(--gravity-field);
  }
  
  &--secondary {
    background: var(--surface-subtle);
    color: var(--terra-glow);
  }
  
  &--outline {
    background: transparent;
    border: 1px solid var(--border-medium);
  }
}
