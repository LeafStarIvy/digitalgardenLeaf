/***
 * CUSTOM STYLE SCSS
 * This file is loaded after the base style.scss and overrides its defaults.
 * Add your custom styling here. Keep it in custom-style.scss so updates won't overwrite.
 ***/

// -------------------------------------------------------------
// 1. PALETTE VARIABLES (Cosmic Bliss Theme)
// -------------------------------------------------------------
$cosmic-void:       #12142A;
$deep-space:        #1E254E;
$galactic-indigo:   #4A4E8A;
$stardust-blue:     #6C789C;
$nebula-lavender:   #BFA6E0;
$ethereal-glow:     #E0B2FF;
$solar-flare:       #FFD77A;
$comet-trail:       #8AD6EE;

// Override base CSS variables
audition: root {
  --background-primary:    #{$cosmic-void};
  --background-secondary:  #{$deep-space};
  --background-alt:        #{$galactic-indigo};
  --background-secondary-alt: mix($galactic-indigo, $cosmic-void, 20%);

  --text-primary:          #{$ethereal-glow};
  --text-accent:           #{$solar-flare};
  --text-muted:            #{$nebula-lavender};

  --link-color:            #{$comet-trail};
  --link-hover-color:      darken($comet-trail, 10%);

  --accent-color:          #{$galactic-indigo};
  --muted-accent:          lighten($galactic-indigo, 20%);

  --border-color:          #{$nebula-lavender};
  --divider-color:         rgba($ethereal-glow, 0.15);

  // Graph colors
  --graph-main:            #{$comet-trail};
  --graph-muted:           rgba($nebula-lavender, 0.5);
}

// -------------------------------------------------------------
// 2. GLOBAL BACKGROUND & TYPOGRAPHY
// -------------------------------------------------------------
body {
  background: linear-gradient(180deg, $cosmic-void 0%, $nebula-lavender 100%);
  background-attachment: fixed;
  font-family: var(--font-family-main);
}

// Smooth text rendering
body, .content, p, h1, h2, h3, h4, h5, h6 {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// -------------------------------------------------------------
// 3. GLASS CARD & PANELS
// -------------------------------------------------------------
@mixin glass-panel($alpha: 0.15, $blur: 8px) {
  background: rgba(255, 255, 255, $alpha);
  backdrop-filter: blur($blur);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: var(--border-radius);
}

.card, .callout, .content, .transclusion {
  @include glass-panel(0.12, 12px);
}

// Highlight important callouts
.callout[data-callout="warning"] {
  border-left: 4px solid $solar-flare;
}
.callout[data-callout="info"] {
  border-left: 4px solid $comet-trail;
}

// -------------------------------------------------------------
// 4. BUTTON STYLES
// -------------------------------------------------------------
.btn {
  &--primary { background: $galactic-indigo; color: $ethereal-glow; }
  &--secondary { background: $stardust-blue; color: $ethereal-glow; }
  &--accent { background: $solar-flare; color: $cosmic-void; }
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.5em 1em;
  border-radius: var(--border-radius);
  box-shadow: 0 2px 6px rgba($cosmic-void, 0.5);
  transition: transform 0.2s ease, background 0.2s;

  &:hover {
    transform: translateY(-2px);
  }
}

// -------------------------------------------------------------
// 5. LINKS & NAVIGATION
// -------------------------------------------------------------
a, .notelink a {
  color: $comet-trail;
  text-decoration: none;
  position: relative;

  &::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    height: 2px;
    width: 0;
    background: $comet-trail;
    transition: width 0.3s ease;
  }

  &:hover::after {
    width: 100%;
  }
}

// Navbar
.navbar {
  background-color: $deep-space;
  border-bottom: 1px solid rgba($ethereal-glow, 0.2);
}

// Sidebar & filetree
.filetree-sidebar, .sidebar {
  background-color: rgba($cosmic-void, 0.9);
}

// -------------------------------------------------------------
// 6. SIDEBAR & TOC STYLING
// -------------------------------------------------------------
.toc, .backlinks, .graph, .toc-container {
  background: transparent;
  @include glass-panel(0.08, 6px);
  border: none;
}

.toc-container li {
  &::before { color: $solar-flare; }
}

.backlink-card, #link-graph {
  border: 1px solid rgba($ethereal-glow, 0.2);
}

// -------------------------------------------------------------
// 7. ANIMATIONS & INTERACTIVITY
// -------------------------------------------------------------
@keyframes float-star {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-4px) scale(1.05); }
}

.floating-star {
  animation: float-star 4s ease-in-out infinite;
}

// Apply to any icon or image you want to gently drift
.icon.floating-star, .img.floating-star {
  @extend .floating-star;
}

// -------------------------------------------------------------
// 8. CUSTOM SCROLLBAR
// -------------------------------------------------------------
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background-color: $nebula-lavender;
  border-radius: var(--border-radius);
}

// -------------------------------------------------------------
// 9. RESPONSIVE NOTES
// -------------------------------------------------------------
@media (max-width: 800px) {
  body { background: linear-gradient(180deg, $cosmic-void 0%, $galactic-indigo 100%); }
  .navbar { position: fixed; }
}

// End of custom-style.scss
