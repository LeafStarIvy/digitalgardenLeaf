/* =========================================================
   COSMIC DIGITAL GARDEN â€” Super Mario Galaxy Skybox Edition
   ========================================================= */

/* =========================================================
   1. Palette & CSS Variables
   ========================================================= */
:root {
  --bg-deep: #040619;
  --bg-mid: #0d1232;
  --bg-far: #000011;
  --nebula-1: rgba(45, 85, 255, 0.25);
  --nebula-2: rgba(124, 58, 237, 0.25);
  --nebula-3: rgba(6, 182, 212, 0.12);
  --accent-aurora: #7dd3fc;
  --accent-gold: #ffcb6b;
  --accent-pink: #ff6fb3;
  --accent-violet: #b692ff;
  --text: #e9f2ff;
  --muted: #9fb0d6;
  --glass: rgba(12,18,30,0.56);
  --glass-border: rgba(120,160,255,0.08);
  --max-width: 1180px;
  --radius-lg: 16px;
  --shadow-deep: 0 14px 50px rgba(2,6,18,0.75);
}

/* =========================================================
   2. Reset & Base
   ========================================================= */
* {
  box-sizing: border-box;
}
html {
  font-size: 16px;
  scroll-behavior: smooth;
  background: var(--bg-deep);
  overflow-x: hidden;
}
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: var(--text);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  position: relative;
  background: none;
  overflow-x: hidden;
}

/* =========================================================
   3. Skybox Container (full-viewport backdrop)
   ========================================================= */
.galaxy-skybox {
  position: fixed;
  inset: 0;
  z-index: -100;
  pointer-events: none;
  overflow: visible;
  perspective: 1000px;
  transform-style: preserve-3d;
  background:
    radial-gradient(ellipse at center, var(--bg-mid) 0%, var(--bg-far) 100%),
    linear-gradient(180deg, rgba(10,15,40,0.5) 0%, rgba(0,0,0,0.85) 100%);
  filter: saturate(1.15) contrast(1.1);
}

/* =========================================================
   4. Milky Way Arc (soft diagonal sweep)
   ========================================================= */
.milky-way {
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(ellipse at center, rgba(255,255,255,0.05) 0%, transparent 60%),
              repeating-linear-gradient(45deg, rgba(255,255,255,0.06) 0 2px, transparent 2px 6px);
  transform: rotate(25deg);
  filter: blur(100px);
  opacity: 0.4;
  animation: driftArc 120s ease-in-out infinite alternate;
}
@keyframes driftArc {
  0% { transform: rotate(25deg) translateY(0px); }
  100% { transform: rotate(25deg) translateY(50px); }
}

/* =========================================================
   5. Cosmic Bodies (planets, moons, galaxies)
   ========================================================= */
.cosmic-body {
  position: absolute;
  border-radius: 50%;
  will-change: transform;
  mix-blend-mode: screen;
  opacity: 0.7;
}
.cosmic-body.planet-1 {
  width: 620px; height: 620px;
  top: 8%; left: 12%;
  background: radial-gradient(circle at 40% 40%, #2d55ff, transparent 70%);
  filter: drop-shadow(0 0 30px var(--accent-aurora));
  animation: floatSlow1 40s ease-in-out infinite alternate;
}
.cosmic-body.planet-2 {
  width: 500px; height: 500px;
  top: 60%; left: 70%;
  background: radial-gradient(circle at 30% 30%, var(--accent-violet), transparent 80%);
  filter: drop-shadow(0 0 40px var(--accent-violet));
  animation: floatSlow2 35s ease-in-out infinite alternate;
}
.cosmic-body.moon {
  width: 280px; height: 280px;
  top: 25%; left: 75%;
  background: radial-gradient(circle at 50% 50%, #ccc, transparent 70%);
  filter: drop-shadow(0 0 25px #fff);
  animation: floatSlow3 28s ease-in-out infinite alternate;
}
.cosmic-body.galaxy {
  width: 800px; height: 800px;
  top: 50%; left: 20%;
  background: conic-gradient(from 0deg, var(--accent-pink), transparent, var(--accent-violet), transparent, var(--accent-pink));
  border-radius: 50%;
  opacity: 0.15;
  filter: blur(40px);
  animation: spinGalaxy 180s linear infinite;
}
@keyframes spinGalaxy {
  0% { transform: rotate(0deg) scale(1); }
  100% { transform: rotate(360deg) scale(1.05); }
}

/* =========================================================
   6. Floating Animations
   ========================================================= */
@keyframes floatSlow1 {
  0% { transform: translate3d(0, 0, 0) rotate(0deg) scale(1); }
  100% { transform: translate3d(10px, 15px, 0) rotate(3deg) scale(1.05); }
}
@keyframes floatSlow2 {
  0% { transform: translate3d(0, 0, 0) rotate(0deg) scale(1); }
  100% { transform: translate3d(-15px, 12px, 0) rotate(-4deg) scale(1.1); }
}
@keyframes floatSlow3 {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  100% { transform: translate3d(12px, -10px, 0) scale(1.08); }
}

/* =========================================================
   7. Nebula Layers (depth + parallax)
   ========================================================= */
.nebula {
  position: absolute;
  left: -25%; top: -25%;
  width: 150%; height: 150%;
  border-radius: 50%;
  filter: blur(80px) saturate(180%);
  pointer-events: none;
  mix-blend-mode: screen;
}
.nebula--back {
  background: radial-gradient(700px 420px at 18% 32%, rgba(10, 28, 60, 0.85), transparent 35%),
              radial-gradient(480px 300px at 82% 72%, var(--nebula-2), transparent 32%);
  animation: nebulaFloat 50s ease-in-out infinite alternate;
}
.nebula--mid {
  background: radial-gradient(480px 260px at 62% 32%, var(--nebula-1), transparent 38%),
              radial-gradient(420px 230px at 22% 70%, var(--nebula-2), transparent 36%);
  animation: nebulaFloat 45s ease-in-out infinite alternate-reverse;
}
.nebula--front {
  background: radial-gradient(280px 180px at 32% 32%, var(--nebula-3), transparent 45%),
              radial-gradient(320px 220px at 72% 72%, rgba(255,255,255,0.03), transparent 45%);
  animation: nebulaFloat 40s ease-in-out infinite alternate;
}
@keyframes nebulaFloat {
  0% { transform: translate(0%, 0%) scale(1); }
  100% { transform: translate(3%, 4%) scale(1.03); }
}

/* =========================================================
   8. Particle Stars (particles.js)
   ========================================================= */
.pg-canvas {
  position: absolute;
  inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.9;
  filter: brightness(1.05) contrast(1.1);
}
.pg-canvas--bg { z-index: 0; opacity: 0.8; }
.pg-canvas--mid { z-index: 2; opacity: 0.9; }
.pg-canvas--fg { z-index: 3; opacity: 1; }

/* =========================================================
   9. Shooting Stars
   ========================================================= */
.shooting-stars {
  position: absolute;
  inset: 0;
  z-index: 5;
  pointer-events: none;
  background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.6) 10px, transparent 11px);
  animation: shooting 2s linear infinite;
}
@keyframes shooting {
  0% { background-position: 0 0; }
  100% { background-position: 100% 100%; }
}

/* =========================================================
   10. Content Container (storybook glass panels)
   ========================================================= */
.container, main, .content, .app-container {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 4rem 1.2rem;
  position: relative;
  z-index: 10;
  backdrop-filter: saturate(140%) blur(12px);
  background: rgba(10, 15, 40, 0.3);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-deep);
  border: 1px solid var(--glass-border);
}

/* =========================================================
   11. Decorative Spotlight
   ========================================================= */
.garden-article::before {
  content: "";
  position: absolute;
  inset: -40px -60px auto -60px;
  height: 460px;
  background: radial-gradient(900px 300px at 50% 12%, rgba(125, 211, 252, 0.12), transparent);
  z-index: -1;
  filter: blur(42px);
}
