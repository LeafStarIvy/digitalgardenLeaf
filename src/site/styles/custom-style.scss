/*
 * CUSTOM STYLE SCSS - FIXED
 * Integrates 4 fractal GIF overlays without breaking base functions
 */

// 1. CORE VARIABLES & COSMIC PALETTE
// ------------------------------------------------------------------
body {
  // Base cosmic variables
  --background-primary: #12142A;   // Cosmic Void
  --background-secondary: #1E254E; // Deep Space
  --surface-1: #6C789C;            // Stardust Blue
  --surface-2: #A3B3BF;            // Moonstone
  --text-primary: #E0B2FF;         // Ethereal Glow
  --text-accent: #FFD77A;          // Solar Flare
  --link-color: #8AD6EE;           // Comet Trail
  --highlight: #BFA6E0;            // Nebula Lavender
  --text-muted: #CFDACB;           // Interstellar Gray
  --text-normal: #CFDACB;          // Fallback normal text
  --font-default: var(--font-family-main);

  // dataview & inline-field backgrounds
  --background-primary-alt: rgba(18,20,42,0.85);
  --background-secondary-alt: rgba(30,37,78,0.85);

  // Gradient background override (black â†’ deep purple)
  --bg-gradient-start: #000000;
  --bg-gradient-end:   #4A4E8A;
  --bg-gradient-dir:   to top right;

  // Typography & layout
  --font-family-main: 'Inter', sans-serif;
  --font-family-code: 'JetBrains Mono', monospace;
  --content-width: 700px;
  --sidebar-width: 300px;
  --border-radius: 8px;
  --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);

  // Callout styling
  --callout-border-width: 2px;
  --callout-padding: 16px;
  --callout-radius: 8px;

  // Interactive widget colors
  --widget-bg: rgba(30, 37, 78, 0.85);
  --widget-border: var(--text-accent);
  --widget-shadow: 0 8px 24px rgba(0,0,0,0.3);

  // ensure stacking context for GIF overlays
  position: relative;
  z-index: 0;
}

// 2. GIF OVERLAYS (4 configurable layers)
// ------------------------------------------------------------------
:root {
  /* GIF 1 */
  --gif1-url: url('/img/fractal-1.gif');
  --gif1-top:    10%;
  --gif1-left:   50%;
  --gif1-width:  120%;
  --gif1-height: 120%;
  --gif1-opacity: 0.03;
  --gif1-rotate: 12deg;

  /* GIF 2 */
  --gif2-url: url('/img/fractal-2.gif');
  --gif2-top:    80%;
  --gif2-left:   20%;
  --gif2-width:  100%;
  --gif2-height: 100%;
  --gif2-opacity: 0.04;
  --gif2-rotate: -8deg;

  /* GIF 3 */
  --gif3-url: url('/img/fractal-3.gif');
  --gif3-bottom: 15%;
  --gif3-right:  25%;
  --gif3-width:  90%;
  --gif3-height: 90%;
  --gif3-opacity: 0.05;
  --gif3-rotate: 20deg;

  /* GIF 4 */
  --gif4-url: url('/img/fractal-4.gif');
  --gif4-top:    50%;
  --gif4-right:  50%;
  --gif4-width:  110%;
  --gif4-height: 110%;
  --gif4-opacity: 0.02;
  --gif4-rotate: -15deg;
}

// Shared pseudo setup: all on body, behind everything
body::before,
body::after {
  content: '';
  position: fixed;
  background-repeat: no-repeat;
  background-size: cover;
  pointer-events: none;
  z-index: -1;
}

// GIF #1: body::before (first layer)
body::before {
  top:     var(--gif1-top);
  left:    var(--gif1-left);
  width:   var(--gif1-width);
  height:  var(--gif1-height);
  opacity: var(--gif1-opacity);
  background-image: var(--gif1-url);
  transform: translate(-50%, -50%) rotate(var(--gif1-rotate));
}

// GIF #2: body::after (second layer)
body::after {
  top:     var(--gif2-top);
  left:    var(--gif2-left);
  width:   var(--gif2-width);
  height:  var(--gif2-height);
  opacity: var(--gif2-opacity);
  background-image: var(--gif2-url);
  transform: translate(-50%, -50%) rotate(var(--gif2-rotate));
  animation: pulse 30s ease-in-out infinite;
}

// Additional fixed containers for GIF 3 & 4 (layered via pseudo elements on html)
html::before,
html::after {
  content: '';
  position: fixed;
  background-repeat: no-repeat;
  background-size: cover;
  pointer-events: none;
  z-index: -1;
}

// GIF #3: html::before
html::before {
  bottom:  var(--gif3-bottom);
  right:   var(--gif3-right);
  width:   var(--gif3-width);
  height:  var(--gif3-height);
  opacity: var(--gif3-opacity);
  background-image: var(--gif3-url);
  transform: translate(50%, 50%) rotate(var(--gif3-rotate));
}

// GIF #4: html::after
html::after {
  top:     var(--gif4-top);
  right:   var(--gif4-right);
  width:   var(--gif4-width);
  height:  var(--gif4-height);
  opacity: var(--gif4-opacity);
  background-image: var(--gif4-url);
  transform: translate(50%, -50%) rotate(var(--gif4-rotate));
}

// Animation for GIF 2
@keyframes pulse {
  0%, 100% { opacity: calc(var(--gif2-opacity) * 0.5); }
  50%      { opacity: calc(var(--gif2-opacity) * 1.2); }
}

// 3. MIXINS & UTILITIES (unchanged)
// ... keep your gradient-bg, glass-card, float, patterned, cards, buttons, etc.
